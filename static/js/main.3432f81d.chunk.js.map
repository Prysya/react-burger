{"version":3,"sources":["components/App/App.module.css","components/Loader/Loader.module.css","components/IngredientDetails/IngredientDetails.module.css","components/NavButton/NavButton.module.css","components/FeedIngredients/FeedIngredients.module.css","pages/Profile/Profile.module.css","uikit/ScrollableContainer/ScrollableContainer.module.css","components/BurgerIngredients/IngredientsContainerWithTitle/IngredientsContainerWithTitle.module.css","components/BurgerIngredients/BurgerIngredients.module.css","components/IngredientDetails/Nutrient/Nutrient.module.css","components/ModalOverlay/ModalOverlay.module.css","components/OrderDetails/OrderDetails.module.css","components/UserOrders/UserOrders.module.css","pages/Ingredient/Ingredient.module.css","pages/Order/Order.module.css","components/FeedInfo/FeedInfo.module.css","components/CardOrder/CardOrder.module.css","components/BurgerConstructor/BurgerConstructor.module.css","enums/ApiUrl.ts","enums/ErrorMessages.ts","enums/ItemTypes.ts","enums/LoadStatuses.ts","enums/Routes.ts","enums/RouteStatuses.ts","enums/SuccessMessages.ts","enums/ValidationErrorMessages.ts","hooks/index.ts","components/AppHeader/AppHeader.tsx","uikit/ScrollableContainer/ScrollableContainer.tsx","uikit/Icons/OrderDoneImage.tsx","uikit/FadeAnim/FadeAnim.tsx","services/slices/dataSlice/api/fetchData.ts","services/slices/dataSlice/getDataFromApi.ts","services/slices/dataSlice/index.ts","services/slices/itemsSlice/index.ts","utils/cookieUtils/getCookie.ts","utils/cookieUtils/setCookie.ts","utils/storageUtils/getTokenFromStorage.ts","utils/tokensUtils/deleteTokens.ts","utils/storageUtils/deleteTokenFromStorage.ts","utils/cookieUtils/deleteCookie.ts","utils/tokensUtils/setTokens.ts","utils/storageUtils/setTokenInStorage.ts","utils/checkRouteStatusAndReturnSelectedRoute.ts","utils/orderUtils/parseDate.ts","utils/orderUtils/parseFullPrice.ts","utils/orderUtils/checkOrderStatus.ts","utils/orderUtils/parseIngredients.ts","services/slices/modalWindowsSlice/handleOpenOrderDetailsModal.ts","services/slices/modalWindowsSlice/index.ts","services/slices/formSlice/api/fetchFormData.ts","services/slices/formSlice/handleForgotPasswordFormSubmit.ts","services/slices/formSlice/handleResetPasswordFormSubmit.ts","services/slices/formSlice/handleRegisterFormSubmit.ts","services/slices/formSlice/handleLoginFormSubmit.ts","services/slices/formSlice/index.ts","services/slices/authSlice/api/fetchTokenSend.ts","services/slices/authSlice/handleUpdateToken.ts","services/slices/authSlice/handleLogout.ts","services/slices/authSlice/api/fetchUserData.ts","services/slices/authSlice/handleGetUserData.ts","services/slices/authSlice/handleUpdateUserData.ts","services/slices/authSlice/index.ts","services/slices/ordersSlice/socketMiddleware.ts","services/slices/ordersSlice/index.ts","components/BurgerConstructor/BurgerConstructor.tsx","components/BurgerConstructor/BurgerElement/BurgerElement.tsx","components/BurgerIngredients/IngredientsContainerWithTitle/IngredientsContainerWithTitle.tsx","components/BurgerIngredients/IngredientCard/IngredientCard.tsx","components/Loader/Loader.tsx","components/BurgerIngredients/BurgerIngredients.tsx","components/IngredientDetails/IngredientDetails.tsx","components/IngredientDetails/Nutrient/Nutrient.tsx","components/ModalOverlay/ModalOverlay.tsx","components/Modal/Modal.tsx","components/OrderDetails/OrderDetails.tsx","components/OrderDetailsModal/OrderDetailsModal.tsx","components/ControlledInput/ControlledInput.tsx","components/FormContainer/FormContainer.tsx","components/IngredientDetailsModal/IngredientDetailsModal.tsx","components/NavButton/NavButton.tsx","components/ProtectedRoute/ProtectedRoute.tsx","components/HiddenForAuthUsersRoute/HiddenForAuthUsersRoute.tsx","constants/inputs.ts","constants/validationSchema.ts","components/ProfileForm/ProfileForm.tsx","components/CardOrder/CardOrder.tsx","components/FeedIngredients/FeedIngredients.tsx","components/FeedNumbersTablet/OrderColumns/OrderColumns.tsx","components/FeedNumbersTablet/FeedNumbersTablet.tsx","components/FeedInfo/FeedInfo.tsx","components/FeedInfoModal/FeedInfoModal.tsx","pages/Main/Main.tsx","pages/Register/Register.tsx","pages/Error404/Error404.tsx","pages/Login/Login.tsx","pages/ForgotPassword/ForgotPassword.tsx","pages/ResetPassword/ResetPassword.tsx","components/UserOrders/UserOrders.tsx","pages/Profile/Profile.tsx","pages/Logout/Logout.tsx","pages/Ingredient/Ingredient.tsx","pages/Feed/Feed.tsx","pages/Order/Order.tsx","components/App/App.tsx","reportWebVitals.ts","services/store/index.ts","index.tsx","components/FormContainer/FormContainer.module.css","components/ProfileForm/ProfileForm.module.css","components/BurgerIngredients/IngredientCard/IngredientCard.module.css","components/Modal/Modal.module.css","components/FeedNumbersTablet/FeedNumbersTablet.module.css","components/FeedNumbersTablet/OrderColumns/OrderColumns.module.css","pages/Error404/Error404.module.css","components/AppHeader/AppHeader.module.css","components/BurgerConstructor/BurgerElement/BurgerElement.module.css"],"names":["module","exports","ApiUrl","ErrorMessages","ItemTypes","LoadStatuses","Routes","RouteStatuses","SuccessMessages","ValidationErrorMessages","useAppDispatch","useDispatch","useAppSelector","useSelector","AppHeader","isAuthenticated","state","auth","className","styles","header","nav","leftTabsContainer","IconComponent","BurgerIcon","text","to","Main","ListIcon","Feed","ProfileIcon","Profile","Login","memo","ScrollableContainer","children","containerRef","props","classnames","container","ref","OrderDoneImage","width","height","viewBox","fill","xmlns","fillRule","clipRule","d","fillOpacity","id","cx","cy","r","gradientUnits","gradientTransform","stopColor","stopOpacity","offset","FadeAnim","wrapperTag","fetchData","apiUrl","a","axios","get","data","Array","isArray","Error","DataIsUndefined","getDataFromApi","createAsyncThunk","_","getState","dataLoading","length","Pending","Ingredients","initialDataState","dataObjectVariant","Idle","dataError","dataSlice","createSlice","name","initialState","reducers","extraReducers","builder","addCase","pending","fulfilled","action","payload","reduce","obj","item","_id","image","image_mobile","price","type","rejected","error","itemsSlice","fullPrice","selectedBun","selectedItems","selectedItemsCount","currentIngredient","handleBunSelection","handleItemAddition","push","setCurrentIngredient","calculateFullPrice","acc","deleteIngredient","filter","index","deleteAllIngredients","handleItemMove","dragIndex","dragItem","newSelectedItemsArr","prevItem","splice","hoverIndex","actions","getCookie","matches","document","cookie","match","RegExp","replace","decodeURIComponent","undefined","setCookie","value","exp","path","expires","Date","setTime","getTime","Number","toUTCString","updatedCookie","encodeURIComponent","propName","propValue","getTokenFromStorage","token","localStorage","getItem","JSON","parse","deleteTokens","removeItem","setTokens","refreshToken","setItem","stringify","accessToken","checkRouteStatusAndReturnSelectedRoute","status","Protected","ProtectedRoute","Hidden","HiddenForAuthUsersRoute","Route","parseDate","updatedAt","time","moment","locale","fromNow","format","parseFullPrice","ingredientsArray","dataObject","checkOrderStatus","orderStatus","parseIngredients","ingredientsCount","Set","map","count","uuidv4","itemPrice","handleOpenOrderDetailsModal","items","selectedIngredientsId","body","ingredients","post","CreateOrder","headers","Authorization","number","order","OrderNumberIsUndefined","initialModalsState","isIngredientDetailsModalIsOpen","isFeedInfoModalIsOpen","isOrderDetailsModalIsOpen","isOrderButtonDisabled","orderNumber","orderNumberLoading","orderNumberError","orderNumberWaitAuth","modalWindowsSlice","handleOpenIngredientDetailsModal","handleCloseIngredientDetailsModal","handleCloseOrderDetailsModal","handleWaitingOrderNumber","handleOpenFeedInfoModal","handleCloseFeedInfoModal","fetchFormData","formData","success","message","handleForgotPasswordFormSubmit","rejectWithValue","form","formLoading","ForgotPassword","response","handleResetPasswordFormSubmit","ResetPassword","handleRegisterFormSubmit","Register","handleLoginFormSubmit","initialFormState","formPendingError","formErrorMessage","formPendingSuccess","formPendingSuccessMessage","formSlice","resetToDefault","thunk","DataIsIncorrect","ResError","addMatcher","isFulfilled","PasswordSuccess","isRejected","TokenError","fetchTokenSend","RefreshTokenIsUndefined","handleUpdateToken","afterRefreshAction","dispatch","refreshTokenResponseStatus","TokenReset","handleLogout","Logout","fetchUserData","method","resData","AccessTokenIsUndefined","request","url","handleGetUserData","accessTokenResponseStatus","UserData","handleUpdateUserData","initialAuthState","tokenResponseStatus","authError","userEmail","userName","isPasswordForgotten","authSlice","setUserData","user","email","handleDeleteTokensAndLogout","Object","entries","forEach","getSuccessForPasswordReset","isPending","caseReducers","socketMiddleware","wsUrl","wsActions","isAuth","store","socket","next","wsInit","wsSendMessage","onOpen","onClose","onError","onMessage","WebSocket","onopen","onerror","onclose","event","closeReason","code","reason","wasClean","onmessage","parsedData","restParsedData","send","ordersSlice","orders","currentUserOrders","selectedOrder","total","totalToday","wsError","wsClose","wsConnected","wsAuthConnected","handleOrderSelection","wsConnectionStart","wsConnectionSuccess","wsConnectionError","wsConnectionClosed","wsGetMessage","wsAuthConnectionStart","wsAuthSendMessage","wsAuthConnectionSuccess","wsAuthConnectionError","wsAuthConnectionClosed","wsAuthGetMessage","wsAuthActions","MemoCurrencyIcon","CurrencyIcon","BurgerConstructor","history","useHistory","modalWindows","useEffect","then","unwrapResult","catch","useDrop","accept","Ingredient","drop","randomId","collect","monitor","isHover","isOver","handleOrderButtonClick","useCallback","pathname","from","hoveredClass","useMemo","hoveredElements_empty","hoveredElements","section","hoveredBun","isLocked","keys","burgerItemsContainer","footer","size","onClick","classNames","errorMessage","emptyContainer","emptyContainerHovered","MemoDragItem","DragIcon","BurgerElement","useRef","handlerId","getHandlerId","hover","current","hoverBoundingRect","getBoundingClientRect","hoverMiddleY","bottom","top","hoverClientY","getClientOffset","y","useDrag","isDrag","isDragging","drag","containerIsDragging","thumbnail","handleClose","IngredientsContainerWithTitle","title","ingredientsContainer","MemoCounter","Counter","IngredientCard","handleIngredientClick","opacity","dragPreview","card","style","src","alt","Loader","loadContainer","ldsHeart","BurgerIngredients","location","useLocation","useState","setCurrent","bunsRef","saucesRef","toppingsRef","background","handleTabClick","scroller","scrollTo","duration","delay","smooth","containerId","handleScroll","bunDistance","Math","abs","childBindings","domNode","sauceDistance","toppingsDistance","min","display","active","onScroll","IngredientDetails","image_large","calories","carbohydrates","fat","proteins","nutrients","unit","nutrientsContainer","Nutrient","nutrient","ModalOverlay","backdrop","MemoCloseIcon","CloseIcon","modalRoot","getElementById","Modal","headerType","headerSize","handleEscClose","key","addEventListener","removeEventListener","createPortal","modal","modalContainer","closeIcon","OrderDetails","String","padStart","OrderDetailsModal","ControlledInput","placeholder","errors","control","defaultValue","inputRef","render","field","errorText","hasOwnProperty","FormContainer","buttonValue","onSubmit","inputs","subtitle","schema","useForm","resolver","yupResolver","handleSubmit","formState","subtitleContainer","linkText","onLinkClick","link","IngredientDetailsModal","goBack","NavButton","textSize","exact","activeClassName","isUserLoaded","setUserLoaded","finally","INPUTS","createEmailInputProps","createPasswordInputProps","isPasswordHide","handler","icon","onIconClick","createTokenProps","VALIDATION_SCHEMA","EMAIL","yup","IsEmail","required","IsRequired","STRING","PASSWORD","IsPassword","EMAIL_NOT_REQUIRED","STRING_NOT_REQUIRED","PASSWORD_NOT_REQUIRED","shape","password","ProfileForm","reset","watch","isDirty","disabledInputs","setDisabledInputs","nameValue","emailValue","passwordValue","setSuccess","setError","nameRef","emailRef","passwordRef","newData","timer","setTimeout","clearInterval","disabled","Boolean","focus","onBlur","buttonsContainer","CardOrder","date","burgerName","iconsCount","fromProfile","remains","handleCardClick","Orders","flexContainer","orderStatusPending","orderStatusError","iconContainer","iconWithRemains","zIndex","backgroundImage","remainsText","FeedIngredients","ingredientsParsed","OrderColumns","variant","orderColumns","orderItem","variantPrimary","FeedNumbersTablet","readyOrders","onWorkOrders","numbers","FeedInfo","hideOrderNumber","itemsContainer","itemInfoContainer","FeedInfoModal","setPasswordHide","handlePasswordHide","prev","rejectedValueOrSerializedError","console","Error404","params","useRouteMatch","UserOrders","profileLinks","profileContainer","linksContainer","includes","ingredientId","selectedItem","find","Order","feedId","checkPathnameAndRedirect","currentOrders","routesAndComponents","Component","ResetPasswordWithToken","IngredientsWithId","FeedWithId","OrdersWithId","routesAndModals","App","app","main","SelectedRoute","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","wsMiddlewares","WsAllOrders","WsUserOrders","configureStore","reducer","middleware","getDefaultMiddleware","concat","devTools","process","ReactDOM","StrictMode","DndProvider","backend","HTML5Backend"],"mappings":"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","file":"static/js/main.3432f81d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__1IksY\",\"main\":\"App_main__w13HL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loadContainer\":\"Loader_loadContainer__XE2Lz\",\"ldsHeart\":\"Loader_ldsHeart__3Q4gz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nutrientsContainer\":\"IngredientDetails_nutrientsContainer__9Q2ye\",\"name\":\"IngredientDetails_name__1KZEv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"NavButton_link__3xPNM\",\"active\":\"NavButton_active__2SifA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"section\":\"FeedIngredients_section__cW05O\",\"orders\":\"FeedIngredients_orders__2Rf0N\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileContainer\":\"Profile_profileContainer__24Cda\",\"linksContainer\":\"Profile_linksContainer__3WgDI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ScrollableContainer_container__3Z2Tq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ingredientsContainer\":\"IngredientsContainerWithTitle_ingredientsContainer__3r9to\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"section\":\"BurgerIngredients_section__2_sVq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nutrient\":\"Nutrient_nutrient__3Sg0D\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"ModalOverlay_backdrop__1S-Ag\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"orderNumber\":\"OrderDetails_orderNumber__1Ut0Z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"UserOrders_container__30AwV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Ingredient_container__Xx0sL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Order_container__1FM7j\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"FeedInfo_container__1YM7T\",\"orderNumber\":\"FeedInfo_orderNumber__SAdEf\",\"itemsContainer\":\"FeedInfo_itemsContainer__UduG-\",\"orderStatusPending\":\"FeedInfo_orderStatusPending__3T7k3\",\"orderStatusError\":\"FeedInfo_orderStatusError__3WXr8\",\"orderStatus\":\"FeedInfo_orderStatus__3QCde\",\"flexContainer\":\"FeedInfo_flexContainer__29e9y\",\"itemInfoContainer\":\"FeedInfo_itemInfoContainer__3qHGp\",\"name\":\"FeedInfo_name__HFoHl\",\"icon\":\"FeedInfo_icon__28MIB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"CardOrder_container__1nEhp\",\"flexContainer\":\"CardOrder_flexContainer__1pNzQ\",\"orderStatusPending\":\"CardOrder_orderStatusPending__2E2wd\",\"orderStatusError\":\"CardOrder_orderStatusError__2YOPS\",\"icon\":\"CardOrder_icon__2GHk9\",\"iconWithRemains\":\"CardOrder_iconWithRemains__lk3Cf\",\"remainsText\":\"CardOrder_remainsText__1NH1E\",\"iconContainer\":\"CardOrder_iconContainer__3gzWm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"burgerItemsContainer\":\"BurgerConstructor_burgerItemsContainer__1ND3f\",\"section\":\"BurgerConstructor_section__3Pqqa\",\"footer\":\"BurgerConstructor_footer__1m9Od\",\"hoveredBun\":\"BurgerConstructor_hoveredBun__2LZc3\",\"hoveredElements\":\"BurgerConstructor_hoveredElements__2rFgA\",\"hoveredElements_empty\":\"BurgerConstructor_hoveredElements_empty__wbfU4\",\"emptyContainer\":\"BurgerConstructor_emptyContainer__2_7ur\",\"emptyContainerHovered\":\"BurgerConstructor_emptyContainerHovered__1SDZN\",\"errorMessage\":\"BurgerConstructor_errorMessage__3eCTo\"};","export enum ApiUrl {\n  Ingredients = \"https://norma.nomoreparties.space/api/ingredients\",\n  CreateOrder = \"https://norma.nomoreparties.space/api/orders\",\n  ForgotPassword = \"https://norma.nomoreparties.space/api/password-reset\",\n  ResetPassword = \"https://norma.nomoreparties.space/api/password-reset/reset\",\n  Register = \"https://norma.nomoreparties.space/api/auth/register\",\n  Login = \"https://norma.nomoreparties.space/api/auth/login\",\n  Logout = \"https://norma.nomoreparties.space/api/auth/logout\",\n  TokenReset = \"https://norma.nomoreparties.space/api/auth/token\",\n  UserData = \"https://norma.nomoreparties.space/api/auth/user\",\n  WsAllOrders = \"wss://norma.nomoreparties.space/orders/all\",\n  WsUserOrders = \"wss://norma.nomoreparties.space/orders\",\n}\n","export enum ErrorMessages {\n  DataIsUndefined = \"data     \",\n  OrderNumberIsUndefined = \"      \",\n  ResError = \"    \",\n  TokenError = \"   \",\n  AccessTokenIsUndefined = \"Access token   \",\n  RefreshTokenIsUndefined = \"Refresh token   \",\n  DataIsIncorrect = \"E-mail    ,    .\",\n}\n","export enum ItemTypes {\n  Ingredient = \"ingredient\",\n  BurgerElement = \"burgerElement\",\n}\n","export enum LoadStatuses {\n  Pending = \"pending\",\n  Idle = \"idle\",\n}\n","export enum Routes {\n  Main = \"/\",\n  Login = \"/login\",\n  Register = \"/register\",\n  ForgotPassword = \"/forgot-password\",\n  ResetPassword = \"/reset-password\",\n  ResetPasswordWithToken = \"/reset-password/:token\",\n  Feed = \"/feed\",\n  FeedWithId = \"/feed/:feedId\",\n  Profile = \"/profile\",\n  Orders = \"/profile/orders\",\n  OrdersWithId = \"/profile/orders/:feedId\",\n  Ingredients = \"/ingredients\",\n  IngredientsWithId = \"/ingredients/:ingredientId\",\n  Logout = \"/logout\",\n}\n","export enum RouteStatuses {\n  Protected = \"protected\",\n  Hidden = \"hidden\",\n}\n","export enum SuccessMessages {\n  PasswordSuccess = \"  \",\n}\n","export enum ValidationErrorMessages {\n  IsString = \"   \",\n  IsRequired = \"  \",\n  IsEmail = \"E-mail \",\n  IsPassword = \"     8 \",\n}\n","import { TypedUseSelectorHook, useDispatch, useSelector } from \"react-redux\";\nimport type { RootState, AppDispatch } from \"../services/store\";\n\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\n","import React, { memo } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport {\n  BurgerIcon,\n  ListIcon,\n  Logo,\n  ProfileIcon,\n} from \"@ya.praktikum/react-developer-burger-ui-components\";\n\nimport styles from \"./AppHeader.module.css\";\n\nimport { NavButton } from \"../\";\nimport { Routes } from \"../../enums\";\nimport { useAppSelector } from \"../../hooks\";\n\nconst AppHeader: React.FC = () => {\n  const { isAuthenticated } = useAppSelector((state) => state.auth);\n\n  return (\n    <header className={`${styles.header} p-4`}>\n      <nav className={styles.nav}>\n        <div className={styles.leftTabsContainer}>\n          <NavButton\n            IconComponent={BurgerIcon}\n            text=\"\"\n            to={Routes.Main}\n          />\n          <NavButton\n            IconComponent={ListIcon}\n            to={Routes.Feed}\n            text=\" \"\n          />\n        </div>\n\n        <Link to={Routes.Main}>\n          <Logo />\n        </Link>\n\n        <NavButton\n          IconComponent={ProfileIcon}\n          to={isAuthenticated ? Routes.Profile : Routes.Login}\n          text=\" \"\n        />\n      </nav>\n    </header>\n  );\n};\n\nexport default memo(AppHeader);\n","import React from \"react\";\nimport styles from \"./ScrollableContainer.module.css\";\nimport classnames from \"classnames\";\n\ninterface IScrollableContainer {\n  className: string;\n  containerRef?: React.RefObject<HTMLDivElement>;\n  [x:string]: any;\n}\n\nconst ScrollableContainer: React.FC<IScrollableContainer> = ({\n  children,\n  className,\n  containerRef,\n  ...props\n}) => {\n  return (\n    <div\n      className={classnames(styles.container, className)}\n      ref={containerRef}\n      {...props}\n    >\n      {children}\n    </div>\n  );\n};\n\nexport default ScrollableContainer;\n","import React from 'react';\n\nconst OrderDoneImage = ({...props}) => {\n  return (\n    <svg\n      width=\"107\"\n      height=\"102\"\n      viewBox=\"0 0 107 102\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      {...props}\n    >\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M8.36637 37.3873C2.54454 45.5044 2.54455 56.4957 8.36637 64.6127L28.3336 92.4518C34.1554 100.569 44.4748 103.965 53.8947 100.865L86.2023 90.2313C95.6223 87.1309 102 78.2387 102 68.2055V33.7945C102 23.7612 95.6222 14.8691 86.2023 11.7687L53.8947 1.13508C44.4748 -1.96536 34.1554 1.43114 28.3336 9.54819L8.36637 37.3873Z\"\n        fill=\"url(#paint0_radial)\"\n        fillOpacity=\"0.25\"\n      />\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M103.944 39.453C108.019 46.5983 108.019 55.4017 103.944 62.547L88.5996 89.453C84.5247 96.5983 76.994 101 68.8442 101H38.1558C30.006 101 22.4753 96.5983 18.4004 89.453L3.05617 62.547C-1.01872 55.4017 -1.01872 46.5983 3.05617 39.453L18.4004 12.547C22.4753 5.40169 30.006 1 38.1558 1L68.8442 1C76.994 1 84.5247 5.40169 88.5996 12.547L103.944 39.453Z\"\n        fill=\"url(#paint1_radial)\"\n        fillOpacity=\"0.25\"\n      />\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M43.9249 20.9109C49.3362 17.0297 56.6638 17.0297 62.0751 20.9109L80.6345 34.2224C86.0459 38.1036 88.3102 44.9832 86.2433 51.2632L79.1542 72.8016C77.0873 79.0815 71.1592 83.3333 64.4703 83.3333H41.5296C34.8408 83.3333 28.9127 79.0815 26.8458 72.8016L19.7567 51.2632C17.6898 44.9832 19.9541 38.1036 25.3655 34.2224L43.9249 20.9109Z\"\n        fill=\"url(#paint2_radial)\"\n        fillOpacity=\"0.25\"\n      />\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M73.3122 37.5959C74.1999 38.4172 74.2327 39.7806 73.3852 40.641L50.0519 64.3333C49.6272 64.7646 49.0371 65.0059 48.422 64.9999C47.8069 64.9939 47.222 64.741 46.8063 64.3016L34.5841 51.3785C33.7548 50.5016 33.8159 49.1392 34.7206 48.3354C35.6253 47.5316 37.031 47.5908 37.8604 48.4677L48.4773 59.6934L70.1703 37.6667C71.0177 36.8062 72.4244 36.7745 73.3122 37.5959Z\"\n        fill=\"#F2F2F3\"\n      />\n      <defs>\n        <radialGradient\n          id=\"paint0_radial\"\n          cx=\"0\"\n          cy=\"0\"\n          r=\"1\"\n          gradientUnits=\"userSpaceOnUse\"\n          gradientTransform=\"translate(53 51) rotate(-46.1458) scale(70.7248 53.2019)\"\n        >\n          <stop stopColor=\"#801AB3\" stopOpacity=\"0\" />\n          <stop offset=\"1\" stopColor=\"#4C4CFF\" />\n        </radialGradient>\n        <radialGradient\n          id=\"paint1_radial\"\n          cx=\"0\"\n          cy=\"0\"\n          r=\"1\"\n          gradientUnits=\"userSpaceOnUse\"\n          gradientTransform=\"translate(53.5 51) rotate(-43.0632) scale(73.2274 55.0025)\"\n        >\n          <stop stopColor=\"#801AB3\" stopOpacity=\"0\" />\n          <stop offset=\"1\" stopColor=\"#4C4CFF\" />\n        </radialGradient>\n        <radialGradient\n          id=\"paint2_radial\"\n          cx=\"0\"\n          cy=\"0\"\n          r=\"1\"\n          gradientUnits=\"userSpaceOnUse\"\n          gradientTransform=\"translate(53 50.6667) rotate(136.146) scale(47.1499 35.4679)\"\n        >\n          <stop stopColor=\"#801AB3\" stopOpacity=\"0\" />\n          <stop offset=\"1\" stopColor=\"#4C4CFF\" stopOpacity=\"0.5\" />\n        </radialGradient>\n      </defs>\n    </svg>\n  );\n};\n\nexport default OrderDoneImage;\n","import React, { JSXElementConstructor } from \"react\";\nimport FadeIn from \"react-fade-in\";\n\ninterface IFadeAnim {\n  className: string;\n  wrapperTag?: JSXElementConstructor<any>;\n}\n\nconst FadeAnim: React.FC<IFadeAnim> = ({ children, className, wrapperTag }) => {\n  return (\n    <FadeIn className={className} wrapperTag={wrapperTag}>\n      {children}\n    </FadeIn>\n  );\n};\n\nexport default FadeAnim;\n","import axios from \"axios\";\nimport { ErrorMessages } from \"../../../../enums\";\n\nexport const fetchData = async (apiUrl: string) => {\n  try {\n    const { data } = await axios.get(apiUrl);\n\n    if (data && Array.isArray(data.data)) {\n      return data.data;\n    }\n\n    throw new Error(ErrorMessages.DataIsUndefined);\n  } catch (err) {\n    throw err;\n  }\n};\n","import { createAsyncThunk } from \"@reduxjs/toolkit\";\nimport { fetchData } from \"./api/fetchData\";\nimport { IInitialDataState } from \"./interfaces\";\nimport { ApiUrl, LoadStatuses } from \"../../../enums\";\nimport { Ingredient } from \"../../../interfaces\";\n\nexport const getDataFromApi = createAsyncThunk<\n  Ingredient[] | never,\n  void,\n  {\n    state: {\n      data: IInitialDataState;\n    };\n  }\n>(\"data/getDataFromApi\", async (_, { getState }) => {\n  const { dataLoading, data } = getState().data;\n\n  if (data.length > 0) return data;\n\n  if (dataLoading !== LoadStatuses.Pending) return;\n\n  try {\n    return (await fetchData(ApiUrl.Ingredients));\n  } catch (err) {\n    throw err;\n  }\n});\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\n\nimport { LoadStatuses } from \"../../../enums\";\nimport { getDataFromApi } from \"./getDataFromApi\";\nimport { IInitialDataState } from \"./interfaces\";\nimport { Ingredient } from \"../../../interfaces\";\n\nexport const initialDataState: IInitialDataState = {\n  data: [],\n  dataObjectVariant: null,\n  dataLoading: LoadStatuses.Idle,\n  dataError: null,\n};\n\nconst dataSlice = createSlice({\n  name: \"data\",\n  initialState: initialDataState,\n  reducers: {},\n  extraReducers: (builder) => {\n    builder.addCase(getDataFromApi.pending, (state) => {\n      if (state.dataLoading === LoadStatuses.Idle) {\n        state.dataLoading = LoadStatuses.Pending;\n        state.dataError = null;\n      }\n    });\n\n    builder.addCase(\n      getDataFromApi.fulfilled,\n      (state, action: PayloadAction<Ingredient[]>) => {\n        if (state.dataLoading === LoadStatuses.Pending) {\n          state.dataLoading = LoadStatuses.Idle;\n          if (Array.isArray(action.payload) && action.payload.length > 0) {\n            state.dataObjectVariant = action.payload.reduce(\n              (obj, item) => ({\n                ...obj,\n                [item._id]: {\n                  image: item.image_mobile,\n                  price: item.type === \"bun\" ? item.price * 2 : item.price,\n                  name: item.name,\n                  type: item.type,\n                },\n              }),\n              {}\n            );\n            state.data = action.payload;\n          }\n        }\n      }\n    );\n    builder.addCase(\n      getDataFromApi.rejected,\n      (state, action) => {\n        if (state.dataLoading === LoadStatuses.Pending) {\n          state.dataLoading = LoadStatuses.Idle;\n          state.dataError = action.error;\n          state.data = [];\n          state.dataObjectVariant = null;\n        }\n      }\n    );\n  },\n});\n\nexport { getDataFromApi };\nexport default dataSlice.reducer;\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\nimport { IInitialItemsState } from \"./interfaces\";\nimport { Ingredient } from \"../../../interfaces\";\n\nexport const initialItemsState: IInitialItemsState = {\n  fullPrice: 0,\n  selectedBun: null,\n  selectedItems: [],\n  selectedItemsCount: null,\n  currentIngredient: null,\n};\n\nconst itemsSlice = createSlice({\n  name: \"items\",\n  initialState: initialItemsState,\n  reducers: {\n    handleBunSelection: (\n      state,\n      action: PayloadAction<Ingredient>\n    ) => {\n      state.selectedBun = action.payload;\n    },\n\n    handleItemAddition: (\n      state,\n      action: PayloadAction<Ingredient>\n    ) => {\n      state.selectedItemsCount = {\n        ...state.selectedItemsCount,\n        [action.payload.name]:\n          (state.selectedItemsCount?.[action.payload.name] || 0) + 1,\n      };\n\n      state.selectedItems.push(action.payload);\n    },\n    setCurrentIngredient: (\n      state,\n      action: PayloadAction<Ingredient>\n    ) => {\n      state.currentIngredient = action.payload;\n    },\n    calculateFullPrice: (state) => {\n      let selectedBun: number = 0;\n\n      if (state.selectedBun && \"price\" in state.selectedBun) {\n        selectedBun = state.selectedBun?.price;\n      }\n\n      state.fullPrice =\n        state.selectedItems.reduce((acc, item) => acc + item.price, 0) +\n        selectedBun * 2;\n    },\n    deleteIngredient: (\n      state,\n      action: PayloadAction<{ index: number; name: string }>\n    ) => {\n      state.selectedItems = [...state.selectedItems].filter(\n        (_, index) => index !== action.payload.index\n      );\n\n      if (\n        state.selectedItemsCount &&\n        state.selectedItemsCount[action.payload.name]\n      ) {\n        state.selectedItemsCount = {\n          ...state.selectedItemsCount,\n          [action.payload.name]:\n            state.selectedItemsCount[action.payload.name] - 1,\n        };\n      }\n    },\n    deleteAllIngredients: (state) => {\n      state.selectedItems = [];\n      state.selectedItemsCount = null;\n      state.selectedBun = null;\n    },\n    handleItemMove: (\n      state,\n      action: PayloadAction<{ dragIndex: number; hoverIndex: number }>\n    ) => {\n      if (action.payload?.dragIndex >= 0) {\n        const dragItem = state.selectedItems[action.payload.dragIndex];\n\n        if (dragItem) {\n          const newSelectedItemsArr = [...state.selectedItems];\n\n          const prevItem = newSelectedItemsArr.splice(\n            action.payload.hoverIndex,\n            1,\n            dragItem\n          );\n\n          newSelectedItemsArr.splice(action.payload.dragIndex, 1, prevItem[0]);\n\n          state.selectedItems = newSelectedItemsArr;\n        }\n      }\n    },\n  },\n});\n\nexport const {\n  handleBunSelection,\n  handleItemAddition,\n  setCurrentIngredient,\n  calculateFullPrice,\n  deleteIngredient,\n  deleteAllIngredients,\n  handleItemMove,\n} = itemsSlice.actions;\nexport default itemsSlice.reducer;\n","export const getCookie = (name: string): string | undefined  => {\n  const matches = document.cookie.match(\n    new RegExp('(?:^|; )' + name.replace(/([.$?*|{}()[\\]\\\\/+^])/g, '\\\\$1') + '=([^;]*)')\n  );\n  return matches ? decodeURIComponent(matches[1]) : undefined;\n}\n","type TSetCookieProps = {\n  expires?: number | string;\n  path?: string;\n} & { [key: string]: string | number | boolean };\n\nexport const setCookie = (\n  name: string,\n  value: string | number | boolean | null,\n  props?: TSetCookieProps\n): void => {\n  props = {\n    path: \"/\",\n    ...props,\n  };\n\n  let exp = props.expires;\n\n  const d = new Date();\n\n  if (typeof exp == \"number\" && exp) {\n    d.setTime(d.getTime() + exp * 1000);\n    exp = props.expires = Number(d);\n  }\n\n  if (exp && d.toUTCString) {\n    props.expires = d.toUTCString();\n  }\n\n  value = value ? encodeURIComponent(value) : null;\n\n  let updatedCookie = name + \"=\" + value;\n\n  for (const propName in props) {\n    updatedCookie += \"; \" + propName;\n\n    const propValue = props[propName];\n\n    if (propValue !== true) {\n      updatedCookie += \"=\" + propValue;\n    }\n  }\n  document.cookie = updatedCookie;\n};\n","export const getTokenFromStorage = (): string | undefined => {\n  const token = localStorage.getItem(\"refreshToken\");\n  return token ? JSON.parse(token) : undefined;\n};\n","import { deleteTokenFromStorage } from \"../storageUtils\";\nimport { deleteCookie } from \"../cookieUtils\";\n\nexport const deleteTokens = (): void => {\n  deleteTokenFromStorage();\n\n  deleteCookie(\"token\");\n};\n","export const deleteTokenFromStorage = ():void => {\n  localStorage.removeItem('refreshToken');\n}\n","import { setCookie } from \"./setCookie\";\n\nexport const deleteCookie = (name: string): void => {\n  setCookie(name, null, { expires: -1 });\n}\n","import { setTokenInStorage } from \"../storageUtils\";\nimport { setCookie } from \"../cookieUtils\";\n\nexport const setTokens = (action: any) => {\n  setTokenInStorage(action.payload.refreshToken);\n\n  setCookie(\"token\", action.payload.accessToken.replace(\"Bearer \", \"\"));\n};\n","export const setTokenInStorage = (token: string): void => {\n  localStorage.setItem(\"refreshToken\", JSON.stringify(token));\n};\n","import { Route, RouteProps } from \"react-router-dom\";\nimport { RouteStatuses } from \"../enums\";\nimport { HiddenForAuthUsersRoute, ProtectedRoute } from \"../components\";\nimport React from \"react\";\n\nexport const checkRouteStatusAndReturnSelectedRoute = (\n  status: RouteStatuses.Hidden | RouteStatuses.Protected | undefined\n): React.FC<RouteProps> | typeof Route =>\n  status === RouteStatuses.Protected\n    ? ProtectedRoute\n    : status === RouteStatuses.Hidden\n    ? HiddenForAuthUsersRoute\n    : Route;\n","import moment from \"moment\";\n\nexport const parseDate = (updatedAt: string): string => {\n  const time = moment(updatedAt)?.locale(\"ru\");\n\n  return `${time.fromNow()}, ${time.format(\"LTS\")}, i-GMT+3`;\n};\n","import { IDataObject } from \"../../interfaces\";\n\nexport const parseFullPrice = (\n  ingredientsArray: string[],\n  dataObject: IDataObject\n) =>\n  ingredientsArray?.length > 0\n    ? ingredientsArray.reduce((acc, item) => acc + dataObject?.[item].price, 0)\n    : 0;\n","export const checkOrderStatus = (orderStatus: string): string => {\n  switch (orderStatus) {\n    case \"created\":\n      return \"\";\n    case \"pending\":\n      return \"\";\n    case \"error\":\n      return \"\";\n    default:\n      return \"\";\n  }\n};\n","import { v4 as uuidv4 } from \"uuid\";\nimport { ParsedIngredient, IDataObject } from \"../../interfaces\";\n\nexport const parseIngredients = (\n  ingredientsArray: Array<string>,\n  dataObjectVariant: IDataObject\n): ParsedIngredient[] => {\n  const ingredientsCount: { [key: string]: number } = ingredientsArray?.reduce(\n    (obj: { [key: string]: number }, item) => ({\n      ...obj,\n      [item]: (obj[item] || 0) + 1,\n    }),\n    {}\n  );\n\n  return [...new Set(ingredientsArray)]?.map((item) => ({\n    count:\n      dataObjectVariant?.[item]?.type === \"bun\" ? 2 : ingredientsCount[item],\n    image: dataObjectVariant?.[item]?.image || \"\",\n    id: uuidv4(),\n    itemPrice: dataObjectVariant?.[item]?.price || 0,\n    name: dataObjectVariant?.[item]?.name || \"\",\n  }));\n};\n","import { createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nimport { getCookie } from \"../../../utils\";\nimport { IInitialItemsState } from \"../itemsSlice/interfaces\";\nimport { IInitialModalWindowsState } from \"./interfaces\";\nimport { ApiUrl, ErrorMessages } from \"../../../enums\";\nimport { Ingredient } from \"../../../interfaces\";\n\nexport const handleOpenOrderDetailsModal = createAsyncThunk<\n  never | number,\n  void,\n  {\n    state: {\n      modalWindows: IInitialModalWindowsState;\n      items: IInitialItemsState;\n    };\n  }\n>(\"modalWindows/handleOpenOrderDetailsModal\", async (_, { getState }) => {\n  const {\n    items: { selectedBun, selectedItems },\n  } = getState();\n\n  try {\n    const selectedIngredientsId = selectedItems.map(\n      ({ _id }: Ingredient) => _id\n    );\n\n    let body = {};\n\n    if (selectedBun) {\n      body = {\n        ingredients: [selectedBun._id, ...selectedIngredientsId],\n      };\n    }\n\n    const { data } = await axios.post(ApiUrl.CreateOrder, body, {\n      headers: {\n        Authorization: \"Bearer \" + getCookie(\"token\"),\n      },\n    });\n\n    const {\n      order: { number },\n    } = data;\n\n    if (number && typeof number === \"number\") {\n      return number;\n    }\n\n    throw new Error(ErrorMessages.OrderNumberIsUndefined);\n  } catch (err) {\n    throw err;\n  }\n});\n","import { createSlice } from \"@reduxjs/toolkit\";\nimport { handleOpenOrderDetailsModal } from \"./handleOpenOrderDetailsModal\";\nimport { IInitialModalWindowsState } from \"./interfaces\";\nimport { LoadStatuses } from \"../../../enums\";\n\nexport const initialModalsState: IInitialModalWindowsState = {\n  isIngredientDetailsModalIsOpen: false,\n\n  isFeedInfoModalIsOpen: false,\n\n  isOrderDetailsModalIsOpen: false,\n  isOrderButtonDisabled: false,\n\n  orderNumber: null,\n  orderNumberLoading: LoadStatuses.Idle,\n  orderNumberError: null,\n  orderNumberWaitAuth: false,\n};\n\nconst modalWindowsSlice = createSlice({\n  name: \"modalWindows\",\n  initialState: initialModalsState,\n  reducers: {\n    handleOpenIngredientDetailsModal: (state) => {\n      state.isIngredientDetailsModalIsOpen = true;\n    },\n    handleCloseIngredientDetailsModal: (state) => {\n      state.isIngredientDetailsModalIsOpen = false;\n    },\n    handleCloseOrderDetailsModal: (state) => {\n      state.isOrderDetailsModalIsOpen = false;\n    },\n    handleWaitingOrderNumber: (state) => {\n      state.orderNumberWaitAuth = true;\n    },\n    handleOpenFeedInfoModal: (state) => {\n      state.isFeedInfoModalIsOpen = true;\n    },\n    handleCloseFeedInfoModal: (state) => {\n      state.isFeedInfoModalIsOpen = false;\n    },\n  },\n  extraReducers: (builder) => {\n    builder.addCase(\n      handleOpenOrderDetailsModal.pending,\n      (state) => {\n        if (state.orderNumberLoading === LoadStatuses.Idle) {\n          state.orderNumberLoading = LoadStatuses.Pending;\n          state.isOrderButtonDisabled = true;\n          state.orderNumber = null;\n          state.orderNumberError = null;\n          state.orderNumberWaitAuth = true;\n        }\n      }\n    );\n\n    builder.addCase(\n      handleOpenOrderDetailsModal.fulfilled,\n      (state, action) => {\n        if (state.orderNumberLoading === LoadStatuses.Pending) {\n          state.orderNumberLoading = LoadStatuses.Idle;\n          state.orderNumber = action.payload;\n          state.isOrderButtonDisabled = false;\n          state.isOrderDetailsModalIsOpen = true;\n          state.orderNumberWaitAuth = false;\n        }\n      }\n    );\n\n    builder.addCase(\n      handleOpenOrderDetailsModal.rejected,\n      (state, action) => {\n        if (state.orderNumberLoading === LoadStatuses.Pending) {\n          state.orderNumberLoading = LoadStatuses.Idle;\n          state.orderNumberError = action.error;\n          state.isOrderButtonDisabled = false;\n          state.orderNumberWaitAuth = false;\n        }\n      }\n    );\n  },\n});\n\nexport { handleOpenOrderDetailsModal };\nexport const {\n  handleOpenIngredientDetailsModal,\n  handleCloseIngredientDetailsModal,\n  handleCloseOrderDetailsModal,\n  handleWaitingOrderNumber,\n  handleOpenFeedInfoModal,\n  handleCloseFeedInfoModal,\n} = modalWindowsSlice.actions;\nexport default modalWindowsSlice.reducer;\n","import axios from \"axios\";\nimport { IFetchUserData, ISetFetchUserData } from \"../../../../interfaces\";\n\nexport const fetchFormData = async (\n  apiUrl: string,\n  formData: IFetchUserData | ISetFetchUserData\n) => {\n  try {\n    const { data } = await axios.post(apiUrl, formData);\n\n    if (data && data?.success) {\n      return data;\n    }\n    throw new Error(data.message);\n  } catch (err) {\n    throw err;\n  }\n};\n","import { createAsyncThunk } from \"@reduxjs/toolkit\";\nimport { fetchFormData } from \"./api/fetchFormData\";\nimport {\n  IForgotPasswordResponse,\n  IInitialFormState,\n} from \"./interfaces\";\nimport {IFetchUserData, ISetFetchUserData} from \"../../../interfaces\";\nimport { ApiUrl, LoadStatuses } from \"../../../enums\";\n\nexport const handleForgotPasswordFormSubmit = createAsyncThunk<\n  IForgotPasswordResponse,\n  IFetchUserData | ISetFetchUserData,\n  {\n    state: { form: IInitialFormState };\n    rejectValue: { message: string };\n  }\n>(\n  \"form/handleForgotPasswordFormSubmit\",\n  async (formData, { rejectWithValue, getState }) => {\n    const { formLoading } = getState().form;\n\n    if (formLoading !== LoadStatuses.Pending) return;\n\n    try {\n      return await fetchFormData(ApiUrl.ForgotPassword, formData);\n    } catch (err) {\n      if (!err.response) {\n        throw err;\n      }\n\n      return rejectWithValue(err.response.data);\n    }\n  }\n);\n","import { createAsyncThunk } from \"@reduxjs/toolkit\";\nimport { ApiUrl, LoadStatuses } from \"../../../enums\";\nimport { fetchFormData } from \"./api/fetchFormData\";\nimport { IInitialFormState } from \"./interfaces\";\nimport { IFetchUserData, ISetFetchUserData, IUser } from \"../../../interfaces\";\n\nexport const handleResetPasswordFormSubmit = createAsyncThunk<\n  IUser,\n  IFetchUserData | ISetFetchUserData,\n  {\n    state: { form: IInitialFormState };\n    rejectValue: { message: string };\n  }\n>(\n  \"form/handleResetPasswordFormSubmit\",\n  async (formData, { rejectWithValue, getState }) => {\n    const { formLoading } = getState().form;\n\n    if (formLoading !== LoadStatuses.Pending) return;\n\n    try {\n      return await fetchFormData(ApiUrl.ResetPassword, formData);\n    } catch (err) {\n      if (!err.response) {\n        throw err;\n      }\n\n      return rejectWithValue(err.response.data);\n    }\n  }\n);\n","import { createAsyncThunk } from \"@reduxjs/toolkit\";\nimport { ApiUrl, LoadStatuses } from \"../../../enums\";\nimport { fetchFormData } from \"./api/fetchFormData\";\nimport { IInitialFormState } from \"./interfaces\";\nimport { IFetchUserData, ISetFetchUserData, IUser } from \"../../../interfaces\";\n\nexport const handleRegisterFormSubmit = createAsyncThunk<\n  IUser,\n  IFetchUserData | ISetFetchUserData,\n  {\n    state: { form: IInitialFormState };\n    rejectValue: { message: string };\n  }\n>(\n  \"form/handleRegisterFormSubmit\",\n  async (formData, { rejectWithValue, getState }) => {\n    const { formLoading } = getState().form;\n\n    if (formLoading !== LoadStatuses.Pending) return;\n\n    try {\n      return await fetchFormData(ApiUrl.Register, formData);\n    } catch (err) {\n      if (!err.response) {\n        throw err;\n      }\n\n      return rejectWithValue(err.response.data);\n    }\n  }\n);\n","import { createAsyncThunk } from \"@reduxjs/toolkit\";\nimport { fetchFormData } from \"./api/fetchFormData\";\nimport { IInitialFormState } from \"./interfaces\";\nimport { IFetchUserData, ISetFetchUserData, IUser } from \"../../../interfaces\";\n\nimport { ApiUrl, LoadStatuses } from \"../../../enums\";\n\nexport const handleLoginFormSubmit = createAsyncThunk<\n  IUser,\n  IFetchUserData | ISetFetchUserData,\n  {\n    state: { form: IInitialFormState };\n    rejectValue: { message: string };\n  }\n>(\n  \"form/handleLoginFormSubmit\",\n  async (formData, { rejectWithValue, getState }) => {\n    const { formLoading } = getState().form;\n\n    if (formLoading !== LoadStatuses.Pending) return;\n\n    try {\n      return await fetchFormData(ApiUrl.Login, formData);\n    } catch (err) {\n      if (!err.response) {\n        throw err;\n      }\n\n      return rejectWithValue(err.response.data);\n    }\n  }\n);\n","import {createSlice, isFulfilled, isRejected} from \"@reduxjs/toolkit\";\nimport {ErrorMessages, LoadStatuses, SuccessMessages} from \"../../../enums\";\nimport {handleForgotPasswordFormSubmit} from \"./handleForgotPasswordFormSubmit\";\nimport {handleResetPasswordFormSubmit} from \"./handleResetPasswordFormSubmit\";\nimport {handleRegisterFormSubmit} from \"./handleRegisterFormSubmit\";\nimport {handleLoginFormSubmit} from \"./handleLoginFormSubmit\";\nimport {IInitialFormState} from \"./interfaces\";\n\nexport const initialFormState: IInitialFormState = {\n  formLoading: LoadStatuses.Idle,\n  formPendingError: null,\n  formErrorMessage: null,\n  formPendingSuccess: null,\n  formPendingSuccessMessage: null,\n};\n\nconst formSlice = createSlice({\n  name: \"form\",\n  initialState: initialFormState,\n  reducers: {\n    resetToDefault: (state) => {\n      state.formLoading = LoadStatuses.Idle;\n      state.formPendingError = null;\n      state.formErrorMessage = null;\n      state.formPendingSuccess = null;\n      state.formPendingSuccessMessage = null;\n    },\n  },\n  extraReducers: (builder) => {\n    for (const thunk of [\n      handleForgotPasswordFormSubmit,\n      handleResetPasswordFormSubmit,\n      handleRegisterFormSubmit,\n      handleLoginFormSubmit,\n    ]) {\n      builder.addCase(thunk.pending, (state) => {\n        if (state.formLoading === LoadStatuses.Idle) {\n          state.formLoading = LoadStatuses.Pending;\n          state.formPendingError = null;\n          state.formPendingSuccess = null;\n          state.formErrorMessage = null;\n          state.formPendingSuccessMessage = null;\n        }\n      });\n      builder.addCase(thunk.fulfilled, (state, action) => {\n        if (state.formLoading === LoadStatuses.Pending) {\n          state.formLoading = LoadStatuses.Idle;\n          state.formPendingSuccess = action.payload;\n        }\n      });\n      builder.addCase(thunk.rejected, (state, action) => {\n        if (state.formLoading === LoadStatuses.Pending) {\n          state.formLoading = LoadStatuses.Idle;\n          if (action.payload?.message) {\n            state.formPendingError = action.payload.message;\n          } else {\n            state.formPendingError = action?.error;\n          }\n\n          state.formErrorMessage =\n            state.formPendingError === \"email or password are incorrect\"\n              ? ErrorMessages.DataIsIncorrect\n              : ErrorMessages.ResError;\n        }\n      });\n    }\n\n    builder.addMatcher(\n      isFulfilled(handleResetPasswordFormSubmit),\n      (state, action) => {\n        if (action.payload?.success) {\n          state.formPendingSuccessMessage = SuccessMessages.PasswordSuccess;\n        }\n      }\n    );\n    builder.addMatcher(\n      isRejected(handleResetPasswordFormSubmit),\n      (state, action) => {\n        if (action.payload?.message === \"Incorrect reset token\") {\n          state.formErrorMessage = ErrorMessages.TokenError;\n        }\n      }\n    );\n  },\n});\n\nexport {\n  handleForgotPasswordFormSubmit,\n  handleResetPasswordFormSubmit,\n  handleRegisterFormSubmit,\n  handleLoginFormSubmit,\n};\nexport const { resetToDefault } = formSlice.actions;\nexport default formSlice.reducer;\n","import axios from \"axios\";\n\nimport { ErrorMessages } from \"../../../../enums\";\nimport { getTokenFromStorage } from \"../../../../utils\";\n\nexport const fetchTokenSend = async (\n  apiUrl: string,\n) => {\n  const token = getTokenFromStorage();\n\n  try {\n    if (!token) {\n      throw new Error(ErrorMessages.RefreshTokenIsUndefined);\n    }\n\n    const { data } = await axios.post(apiUrl, { token });\n\n    if (data && data?.success) {\n      return data;\n    }\n\n    throw new Error(data.message);\n  } catch (e) {\n    throw e;\n  }\n};\n","import { createAsyncThunk } from \"@reduxjs/toolkit\";\nimport { ApiUrl, LoadStatuses } from \"../../../enums\";\nimport { fetchTokenSend } from \"./api/fetchTokenSend\";\nimport { IInitialAuthState, IUpdateToken } from \"./interfaces\";\nimport { AppDispatch } from \"../../store\";\n\nexport const handleUpdateToken = createAsyncThunk<\n  IUpdateToken,\n  any,\n  {\n    state: {\n      auth: IInitialAuthState;\n    },\n    dispatch: AppDispatch;\n    rejectValue: { message: string };\n  }\n>(\n  \"auth/handleUpdateToken\",\n  async (afterRefreshAction, {getState, dispatch, rejectWithValue}) => {\n    const { refreshTokenResponseStatus } = getState().auth;\n\n    if (refreshTokenResponseStatus === LoadStatuses.Idle) return;\n\n    try {\n      const data = await fetchTokenSend(ApiUrl.TokenReset);\n\n      if (afterRefreshAction) {\n        dispatch(await afterRefreshAction);\n      }\n\n      return data;\n    } catch (e) {\n      if (!e.response) {\n        throw e;\n      }\n\n      return rejectWithValue(e.response.data);\n    }\n  }\n);\n","import { createAsyncThunk } from \"@reduxjs/toolkit\";\nimport { ApiUrl, LoadStatuses } from \"../../../enums\";\nimport { fetchTokenSend } from \"./api/fetchTokenSend\";\nimport { IInitialAuthState } from \"./interfaces\";\n\nexport const handleLogout = createAsyncThunk<\n  Response,\n  void,\n  {\n    state: {\n      auth: IInitialAuthState;\n    };\n    rejectValue: { message: string };\n  }\n>(\"auth/handleLogout\", async (_, { rejectWithValue, getState }) => {\n  const { refreshTokenResponseStatus } = getState().auth;\n\n  if (refreshTokenResponseStatus === LoadStatuses.Idle) return;\n\n  try {\n    return await fetchTokenSend(ApiUrl.Logout);\n  } catch (err) {\n    if (!err.response) {\n      throw err;\n    }\n\n    return rejectWithValue(err.response.data);\n  }\n});\n","import axios, { Method } from \"axios\";\n\nimport { getCookie } from \"../../../../utils\";\nimport { ISetFetchUserData } from \"../../../../interfaces\";\nimport { ErrorMessages } from \"../../../../enums\";\n\nexport const fetchUserData = async (\n  apiUrl: string,\n  method: Method,\n  formData?: ISetFetchUserData\n) => {\n  const token = getCookie(\"token\");\n\n  const resData = formData && method === \"patch\" ? formData : {};\n\n  try {\n    if (!token) {\n      throw new Error(ErrorMessages.AccessTokenIsUndefined);\n    }\n\n    const { data } = await axios.request({\n      url: apiUrl,\n      method,\n      // mode: \"cors\",\n      // cache: \"no-cache\",\n      // credentials: \"same-origin\",\n      headers: {\n        Authorization: \"Bearer \" + token,\n      },\n      data: resData,\n    });\n\n    if (data && data?.success) {\n      return data;\n    }\n\n    throw new Error(data.message);\n  } catch (err) {\n    throw err;\n  }\n};\n","import { createAsyncThunk } from \"@reduxjs/toolkit\";\nimport { ApiUrl, ErrorMessages, LoadStatuses } from \"../../../enums\";\nimport { fetchUserData } from \"./api/fetchUserData\";\nimport { IUser } from \"../../../interfaces\";\nimport { IInitialAuthState } from \"./interfaces\";\nimport { AppDispatch } from \"../../store\";\nimport { handleUpdateToken } from \"./index\";\n\nexport const handleGetUserData = createAsyncThunk<\n  IUser,\n  void,\n  {\n    state: {\n      auth: IInitialAuthState;\n    };\n    dispatch: AppDispatch;\n    rejectValue: { message: string };\n  }\n>(\n  \"auth/handleGetUserData\",\n  async (_, { rejectWithValue, dispatch, getState }) => {\n    const { accessTokenResponseStatus, refreshTokenResponseStatus } =\n      getState().auth;\n\n    if (accessTokenResponseStatus === LoadStatuses.Idle) return;\n\n    try {\n      return await fetchUserData(ApiUrl.UserData, \"get\");\n    } catch (err) {\n      if (\n        err.message === ErrorMessages.AccessTokenIsUndefined ||\n        err.response.data.message === \"jwt expired\"\n      ) {\n        if (refreshTokenResponseStatus === LoadStatuses.Idle) {\n          await dispatch(handleUpdateToken(\"\"));\n        }\n      }\n\n      if (!err.response) {\n        throw err;\n      }\n\n      return rejectWithValue(err.response.data);\n    }\n  }\n);\n","import { createAsyncThunk } from \"@reduxjs/toolkit\";\nimport { ApiUrl, ErrorMessages, LoadStatuses } from \"../../../enums\";\nimport { fetchUserData } from \"./api/fetchUserData\";\nimport { ISetFetchUserData, IUser } from \"../../../interfaces\";\nimport { IInitialAuthState } from \"./interfaces\";\nimport { AppDispatch } from \"../../store\";\nimport { handleUpdateToken } from \"./\";\n\nexport const handleUpdateUserData = createAsyncThunk<\n  IUser,\n  ISetFetchUserData,\n  {\n    state: {\n      auth: IInitialAuthState;\n    };\n    dispatch: AppDispatch;\n    rejectValue: { message: string };\n  }\n>(\n  \"auth/handleUpdateUserData\",\n  async (formData, { rejectWithValue, dispatch, getState }) => {\n    const { accessTokenResponseStatus, refreshTokenResponseStatus } =\n      getState().auth;\n\n    if (accessTokenResponseStatus === LoadStatuses.Idle) return;\n\n    try {\n      return await fetchUserData(ApiUrl.UserData, \"patch\", formData);\n    } catch (err) {\n      if (\n        err.message === ErrorMessages.AccessTokenIsUndefined ||\n        err.response.data.message === \"jwt expired\"\n      ) {\n        if (refreshTokenResponseStatus === LoadStatuses.Idle) {\n          await dispatch(handleUpdateToken(handleUpdateUserData(formData)));\n          return;\n        }\n      }\n\n      if (!err.response) {\n        throw err;\n      }\n\n      return rejectWithValue(err.response.data);\n    }\n  }\n);\n","import {createSlice, isFulfilled, isPending, isRejected,} from \"@reduxjs/toolkit\";\n\nimport {deleteTokens, setTokens} from \"../../../utils\";\n\nimport {LoadStatuses} from \"../../../enums\";\nimport {handleUpdateToken} from \"./handleUpdateToken\";\nimport {handleLogout} from \"./handleLogout\";\nimport {IInitialAuthState} from \"./interfaces\";\nimport { handleGetUserData } from \"./handleGetUserData\";\nimport { handleUpdateUserData } from \"./handleUpdateUserData\";\n\nexport const initialAuthState: IInitialAuthState = {\n  tokenResponseStatus: LoadStatuses.Idle,\n\n  accessTokenResponseStatus: LoadStatuses.Idle,\n  refreshTokenResponseStatus: LoadStatuses.Idle,\n\n  authError: null,\n\n  userEmail: null,\n  userName: null,\n\n  isAuthenticated: false,\n\n  isPasswordForgotten: false,\n};\n\nconst authSlice = createSlice({\n  name: \"auth\",\n  initialState: initialAuthState,\n  reducers: {\n    setUserData: (state, action) => {\n      if (\n        action.payload?.success &&\n        action.payload?.user?.name &&\n        action.payload?.user?.email\n      ) {\n        state.userName = action.payload.user.name;\n        state.userEmail = action.payload.user.email;\n        state.isAuthenticated = true;\n\n        if (action.payload?.accessToken && action.payload?.refreshToken) {\n          setTokens(action);\n        }\n      }\n    },\n    handleDeleteTokensAndLogout: (state: {[key: string]: any}) => {\n      Object.entries(initialAuthState).forEach(\n        ([name, value]) => name !== \"isPasswordForgotten\" && (state[name] = value)\n      );\n\n      deleteTokens();\n    },\n    getSuccessForPasswordReset: (state) => {\n      state.isPasswordForgotten = true;\n    },\n  },\n  extraReducers: (builder) => {\n    for (const thunk of [\n      handleUpdateToken,\n      handleLogout,\n      handleGetUserData,\n      handleUpdateUserData,\n    ]) {\n      builder.addCase(thunk.pending, (state) => {\n        if (state.tokenResponseStatus === LoadStatuses.Idle) {\n          state.tokenResponseStatus = LoadStatuses.Pending;\n        }\n      });\n      builder.addCase(thunk.fulfilled, (state) => {\n        if (state.tokenResponseStatus === LoadStatuses.Pending) {\n          state.tokenResponseStatus = LoadStatuses.Idle;\n          state.isPasswordForgotten = false;\n        }\n      });\n      builder.addCase(thunk.rejected, (state, action) => {\n        if (state.tokenResponseStatus === LoadStatuses.Pending) {\n          state.tokenResponseStatus = LoadStatuses.Idle;\n\n          if (action.payload?.message) {\n            state.authError = action?.payload.message;\n          } else {\n            state.authError = action?.error;\n          }\n        }\n      });\n    }\n\n    builder.addMatcher(isFulfilled(handleUpdateToken), (state, action) => {\n      if (\n        action.payload?.success &&\n        action.payload?.accessToken &&\n        action.payload?.refreshToken\n      ) {\n        state.isAuthenticated = true;\n\n        setTokens(action);\n      }\n    });\n\n    for (const thunk of [handleUpdateToken, handleLogout]) {\n      builder.addMatcher(isPending(thunk), (state) => {\n        state.refreshTokenResponseStatus = LoadStatuses.Pending;\n      });\n    }\n\n    builder.addMatcher(isPending(handleGetUserData), (state) => {\n      state.accessTokenResponseStatus = LoadStatuses.Pending;\n    });\n\n    builder.addMatcher(isRejected(handleUpdateToken), (state) => {\n      state.refreshTokenResponseStatus = LoadStatuses.Idle;\n      authSlice.caseReducers.handleDeleteTokensAndLogout(state);\n    });\n\n    builder.addMatcher(isRejected(handleLogout), (state) => {\n      state.refreshTokenResponseStatus = LoadStatuses.Idle;\n    });\n\n    builder.addMatcher(isRejected(handleGetUserData), (state) => {\n      state.isAuthenticated = false;\n      state.accessTokenResponseStatus = LoadStatuses.Idle;\n    });\n\n    builder.addMatcher(isFulfilled(handleUpdateToken), (state) => {\n      state.refreshTokenResponseStatus = LoadStatuses.Idle;\n    });\n\n    builder.addMatcher(isFulfilled(handleGetUserData), (state) => {\n      state.accessTokenResponseStatus = LoadStatuses.Idle;\n    });\n\n    builder.addMatcher(isFulfilled(handleLogout), (state) => {\n      state.refreshTokenResponseStatus = LoadStatuses.Idle;\n      authSlice.caseReducers.handleDeleteTokensAndLogout(state);\n    });\n\n    for (const thunk of [handleUpdateUserData, handleGetUserData]) {\n      builder.addMatcher(isFulfilled(thunk), (state, action) => {\n        authSlice.caseReducers.setUserData(state, action);\n      });\n    }\n  },\n});\n\nexport {\n  handleLogout,\n  handleUpdateToken,\n  handleGetUserData,\n  handleUpdateUserData,\n};\nexport const {\n  setUserData,\n  getSuccessForPasswordReset,\n  handleDeleteTokensAndLogout,\n} = authSlice.actions;\nexport default authSlice.reducer;\n","import { AnyAction, MiddlewareAPI } from \"@reduxjs/toolkit\";\nimport { ICloseReason, IWsActions } from \"./interfaces\";\nimport { getCookie } from \"../../../utils\";\n\nexport const socketMiddleware = (\n  wsUrl: string,\n  wsActions: IWsActions,\n  isAuth?: boolean\n) => {\n  return (store: MiddlewareAPI) => {\n    let socket: WebSocket | null = null;\n\n    return (next: (i: AnyAction) => void) => (action: AnyAction) => {\n      const { dispatch } = store;\n      const { type, payload } = action;\n      const { wsInit, wsSendMessage, onOpen, onClose, onError, onMessage } =\n        wsActions;\n\n      const token = getCookie(\"token\");\n\n      if (type === wsInit.type) {\n        socket = new WebSocket(isAuth ? `${wsUrl}?token=${token}` : wsUrl);\n      }\n\n      if (socket) {\n        socket.onopen = () => {\n          dispatch(onOpen());\n        };\n\n        socket.onerror = (error) => {\n          dispatch(onError(`: ${error}`));\n        };\n\n        socket.onclose = (event) => {\n          const closeReason: ICloseReason = {\n            code: event.code,\n            reason: event.reason,\n            wasClean: event.wasClean,\n          };\n\n          dispatch(onClose(closeReason));\n        };\n\n        socket.onmessage = (event: MessageEvent) => {\n          const { data } = event;\n          const parsedData = JSON.parse(data);\n          const { success, ...restParsedData } = parsedData;\n\n          dispatch(onMessage(restParsedData));\n        };\n\n        if (type === wsSendMessage.type) {\n          const message = isAuth ? { ...payload, token } : { ...payload };\n\n          socket.send(JSON.stringify(message));\n        }\n      }\n\n      next(action);\n    };\n  };\n};\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\nimport { socketMiddleware } from \"./socketMiddleware\";\nimport {\n  ICloseReason,\n  ICurrentOrder,\n  IInitialOrderState,\n  IWsActions,\n  IWsMessage,\n} from \"./interfaces\";\n\nexport const initialOrdersState: IInitialOrderState = {\n  orders: [],\n  currentUserOrders: [],\n  selectedOrder: null,\n\n  total: 0,\n  totalToday: 0,\n\n  wsError: null,\n  wsClose: null,\n  wsConnected: false,\n  wsAuthConnected: false,\n};\n\nconst ordersSlice = createSlice({\n  name: \"orders\",\n  initialState: initialOrdersState,\n  reducers: {\n    handleOrderSelection: (state, action: PayloadAction<ICurrentOrder>) => {\n      if (\n        action.payload === Object(action.payload) &&\n        !Array.isArray(action.payload)\n      ) {\n        state.selectedOrder = action.payload;\n      }\n    },\n\n    wsConnectionStart: () => {},\n    wsSendMessage: () => {},\n    wsConnectionSuccess: (state) => {\n      state.wsError = null;\n      state.wsClose = null;\n      state.wsConnected = true;\n    },\n    wsConnectionError: (state, action: PayloadAction<string>) => {\n      state.wsConnected = false;\n      state.wsError = action.payload;\n    },\n    wsConnectionClosed: (state, action: PayloadAction<ICloseReason>) => {\n      state.wsConnected = false;\n      state.wsClose = action.payload;\n    },\n    wsGetMessage: (state, action: PayloadAction<IWsMessage>) => {\n      if (action.payload?.orders && Array.isArray(action.payload.orders)) {\n        state.orders = action.payload?.orders;\n      }\n\n      state.total =\n        typeof action.payload?.total === \"number\" ? action.payload.total : 0;\n\n      state.totalToday =\n        typeof action.payload?.totalToday === \"number\"\n          ? action.payload.totalToday\n          : 0;\n    },\n\n    wsAuthConnectionStart: () => {},\n    wsAuthSendMessage: () => {},\n    wsAuthConnectionSuccess: (state) => {\n      state.wsError = null;\n      state.wsClose = null;\n      state.wsAuthConnected = true;\n    },\n    wsAuthConnectionError: (state, action: PayloadAction<string>) => {\n      state.wsAuthConnected = false;\n      state.wsError = action.payload;\n    },\n    wsAuthConnectionClosed: (state, action: PayloadAction<ICloseReason>) => {\n      state.wsAuthConnected = false;\n      state.wsClose = action.payload;\n    },\n    wsAuthGetMessage: (state, action: PayloadAction<IWsMessage>) => {\n      if (Array.isArray(action.payload?.orders)) {\n        state.currentUserOrders = action.payload.orders;\n      }\n    },\n  },\n});\n\nexport { socketMiddleware };\nexport const {\n  wsConnectionStart,\n  wsConnectionSuccess,\n  wsConnectionClosed,\n  wsConnectionError,\n  wsGetMessage,\n  wsSendMessage,\n  handleOrderSelection,\n  wsAuthGetMessage,\n  wsAuthConnectionClosed,\n  wsAuthConnectionError,\n  wsAuthConnectionSuccess,\n  wsAuthConnectionStart,\n  wsAuthSendMessage,\n} = ordersSlice.actions;\n\nexport const wsActions: IWsActions = {\n  wsInit: wsConnectionStart,\n  wsSendMessage: wsSendMessage,\n  onOpen: wsConnectionSuccess,\n  onClose: wsConnectionClosed,\n  onError: wsConnectionError,\n  onMessage: wsGetMessage,\n};\n\nexport const wsAuthActions: IWsActions = {\n  wsInit: wsAuthConnectionStart,\n  wsSendMessage: wsAuthSendMessage,\n  onOpen: wsAuthConnectionSuccess,\n  onClose: wsAuthConnectionClosed,\n  onError: wsAuthConnectionError,\n  onMessage: wsAuthGetMessage,\n};\n\nexport default ordersSlice.reducer;\n","import React, { memo, useCallback, useEffect, useMemo } from \"react\";\nimport { useDrop } from \"react-dnd\";\nimport classnames from \"classnames\";\nimport classNames from \"classnames\";\nimport { unwrapResult } from \"@reduxjs/toolkit\";\nimport { useHistory } from \"react-router-dom\";\nimport { v4 as uuidv4 } from \"uuid\";\n\nimport styles from \"./BurgerConstructor.module.css\";\n\nimport { ScrollableContainer } from \"../../uikit\";\nimport { BurgerElement } from \"./\";\n\nimport {\n  Button,\n  CurrencyIcon,\n} from \"@ya.praktikum/react-developer-burger-ui-components\";\n\nimport {\n  calculateFullPrice,\n  deleteAllIngredients,\n  handleBunSelection,\n  handleGetUserData,\n  handleItemAddition,\n  handleOpenOrderDetailsModal,\n  handleWaitingOrderNumber,\n} from \"../../services/slices\";\n\nimport { ItemTypes, LoadStatuses, Routes } from \"../../enums\";\nimport { useAppDispatch, useAppSelector } from \"../../hooks\";\nimport { Ingredient } from \"../../interfaces\";\n\nconst MemoCurrencyIcon = memo(CurrencyIcon);\n\nconst BurgerConstructor: React.FC = () => {\n  const dispatch = useAppDispatch();\n\n  const history = useHistory();\n\n  const {\n    auth: { isAuthenticated },\n    data: { dataLoading },\n    items: { selectedBun, selectedItems, fullPrice },\n    modalWindows: {\n      isOrderButtonDisabled,\n      orderNumberError,\n      orderNumberWaitAuth,\n    },\n  } = useAppSelector(({ items, modalWindows, data, auth }) => ({\n    items,\n    modalWindows,\n    data,\n    auth,\n  }));\n\n  useEffect(() => {\n    dispatch(calculateFullPrice());\n  }, [dispatch, selectedBun, selectedItems]);\n\n  useEffect(() => {\n    if (isAuthenticated && orderNumberWaitAuth) {\n      dispatch(handleOpenOrderDetailsModal())\n        .then(unwrapResult)\n        .then(() => dispatch(deleteAllIngredients()))\n        .catch(() => {});\n    }\n\n    //eslint-disable-next-line\n  }, []);\n\n  const [{ isHover, item }, drop] = useDrop({\n    accept: ItemTypes.Ingredient,\n    drop: (item: Ingredient) => {\n      return item.type === \"bun\"\n        ? dispatch(handleBunSelection(item))\n        : dispatch(handleItemAddition({ ...item, randomId: uuidv4() }));\n    },\n    collect: (monitor) => ({\n      isHover: monitor.isOver(),\n      item: monitor.getItem(),\n    }),\n  });\n\n  const handleOrderButtonClick = useCallback(() => {\n    dispatch(handleWaitingOrderNumber());\n\n    dispatch(handleGetUserData())\n      .then(unwrapResult)\n      .then(() => {\n        dispatch(handleOpenOrderDetailsModal())\n          .then(unwrapResult)\n          .then(() => dispatch(deleteAllIngredients()))\n          .catch(() => {});\n      })\n      .catch(() => {\n        history.replace({\n          pathname: Routes.Login,\n          state: { from: Routes.Main },\n        });\n      });\n\n    //eslint-disable-next-line\n  }, [dispatch, selectedBun, selectedItems]);\n\n  const hoveredClass = useMemo(\n    () =>\n      selectedItems.length === 0\n        ? styles.hoveredElements_empty\n        : styles.hoveredElements,\n    [selectedItems]\n  );\n\n  if (dataLoading === LoadStatuses.Pending) return null;\n\n  return (\n    <div\n      className={classnames(\n        styles.section,\n        isHover && item.type === \"bun\" && styles.hoveredBun,\n        \"pt-25\",\n        \"pb-10\"\n      )}\n      ref={drop}\n    >\n      {selectedBun || selectedItems.length > 0 ? (\n        <>\n          {selectedBun && (\n            <BurgerElement\n              index={-1}\n              type=\"top\"\n              isLocked={true}\n              image={selectedBun.image}\n              name={`${selectedBun.name} ()`}\n              price={selectedBun.price}\n            />\n          )}\n\n          <ScrollableContainer\n            className={classnames(\n              isHover &&\n                (item.type !== \"bun\" ||\n                  (selectedBun && Object.keys(selectedBun).length === 0)) &&\n                hoveredClass\n            )}\n          >\n            <ul className={styles.burgerItemsContainer}>\n              {selectedItems.map(\n                ({ name, price, image, _id, randomId }, index) => (\n                  <BurgerElement\n                    name={name}\n                    price={price}\n                    image={image}\n                    index={index}\n                    key={randomId}\n                    id={_id}\n                  />\n                )\n              )}\n            </ul>\n          </ScrollableContainer>\n\n          {selectedBun && Object.keys(selectedBun).length > 0 && (\n            <BurgerElement\n              type=\"bottom\"\n              isLocked={true}\n              index={-1}\n              image={selectedBun.image}\n              name={`${selectedBun.name} ()`}\n              price={selectedBun.price}\n            />\n          )}\n          <div className={`${styles.footer} mt-10`}>\n            <span className=\"text text_type_digits-medium\">\n              {fullPrice} <MemoCurrencyIcon type=\"primary\" />\n            </span>\n            <Button\n              type=\"primary\"\n              size=\"medium\"\n              onClick={\n                selectedBun && !isOrderButtonDisabled\n                  ? handleOrderButtonClick\n                  : undefined\n              }\n            >\n              {!selectedBun\n                ? \"  \"\n                : isOrderButtonDisabled\n                ? \" ...\"\n                : \" \"}\n            </Button>\n          </div>\n          {orderNumberError && (\n            <span\n              className={classNames(\n                styles.errorMessage,\n                \"text\",\n                \"text_type_main-default\",\n                \"mt-1\"\n              )}\n            >\n                  \n            </span>\n          )}\n        </>\n      ) : (\n        <div\n          className={classNames(\n            styles.emptyContainer,\n            isHover && styles.emptyContainerHovered,\n            \"p-1\"\n          )}\n        >\n          <h2 className=\"text text_type_main-medium\">\n                ,   \n          </h2>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default memo(BurgerConstructor);\n","import React, { memo, useRef } from \"react\";\nimport {\n  ConstructorElement,\n  DragIcon,\n} from \"@ya.praktikum/react-developer-burger-ui-components\";\n\nimport styles from \"./BurgerElement.module.css\";\nimport { useDrag, useDrop } from \"react-dnd\";\nimport classnames from \"classnames\";\nimport { deleteIngredient, handleItemMove } from \"../../../services/slices\";\nimport { ItemTypes } from \"../../../enums\";\nimport { useAppDispatch } from \"../../../hooks\";\nimport { Ingredient } from \"../../../interfaces\";\n\nconst MemoDragItem = memo(DragIcon);\n\ninterface IBurgerElement {\n  type?: \"top\" | \"bottom\";\n  isLocked?: boolean;\n  name: string;\n  price: number;\n  image: string;\n  index: number;\n  id?: string;\n}\n\nconst BurgerElement: React.FC<IBurgerElement> = ({\n  type,\n  isLocked,\n  name,\n  price,\n  image,\n  index,\n  id,\n}) => {\n  const dispatch = useAppDispatch();\n\n  const ref = useRef<HTMLDivElement>(null);\n\n  const [{ handlerId }, drop] = useDrop({\n    accept: ItemTypes.BurgerElement,\n    collect(monitor) {\n      return {\n        handlerId: monitor.getHandlerId(),\n      };\n    },\n    hover(item: Ingredient, monitor) {\n      if (!ref.current) {\n        return;\n      }\n      const dragIndex = item.index!;\n      const hoverIndex = index;\n\n      if (dragIndex === hoverIndex ) {\n        return;\n      }\n\n      const hoverBoundingRect = ref.current?.getBoundingClientRect();\n\n      const hoverMiddleY =\n        (hoverBoundingRect.bottom - hoverBoundingRect.top) / 2;\n\n      const clientOffset = monitor.getClientOffset();\n\n      const hoverClientY = clientOffset!.y - hoverBoundingRect.top;\n\n      if (dragIndex < hoverIndex && hoverClientY < hoverMiddleY) {\n        return;\n      }\n\n      if (dragIndex > hoverIndex && hoverClientY > hoverMiddleY) {\n        return;\n      }\n\n      dispatch(handleItemMove({ dragIndex, hoverIndex }));\n      item.index = hoverIndex;\n    },\n  });\n\n  const [{ isDrag }, drag] = useDrag({\n    type: ItemTypes.BurgerElement,\n    item: { id, index },\n    collect: (monitor) => ({\n      isDrag: monitor.isDragging(),\n    }),\n  });\n\n  const containerIsDragging = isDrag ? styles.containerIsDragging : \"\";\n\n  drag(drop(ref));\n\n  return (\n    <div\n      className={classnames(styles.container, \"pl-8\", containerIsDragging)}\n      ref={isLocked ? null : ref}\n      data-handler-id={handlerId}\n    >\n      {!isLocked && (\n        <span className={styles.dragItem}>\n          <MemoDragItem type=\"primary\" />\n        </span>\n      )}\n      <ConstructorElement\n        type={type}\n        isLocked={isLocked}\n        text={name}\n        price={price}\n        thumbnail={image}\n        handleClose={\n          isLocked\n            ? undefined\n            : () => dispatch(deleteIngredient({ index, name }))\n        }\n      />\n    </div>\n  );\n};\n\nexport default memo(BurgerElement);\n","import React, { memo } from \"react\";\nimport styles from \"./IngredientsContainerWithTitle.module.css\";\nimport { Element } from \"react-scroll\";\n\ninterface IIngredientsContainerWithTitle {\n  title: string;\n  name: string;\n  containerRef: React.RefObject<any>;\n  children: JSX.Element | JSX.Element[] | boolean;\n}\n\nconst IngredientsContainerWithTitle: React.FC<IIngredientsContainerWithTitle> =\n  ({ children, title, name, containerRef }) => (\n    <Element className=\"mb-10\" name={name} ref={containerRef}>\n      <p className=\"text text_type_main-medium mb-6\">{title}</p>\n      <ul className={styles.ingredientsContainer}>{children}</ul>\n    </Element>\n  );\n\nexport default memo(IngredientsContainerWithTitle);\n","import React, { memo } from \"react\";\nimport {\n  Counter,\n  CurrencyIcon,\n} from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport styles from \"./IngredientCard.module.css\";\nimport { useDrag } from \"react-dnd\";\nimport { ItemTypes } from \"../../../enums\";\nimport {Ingredient} from \"../../../interfaces\";\n\nconst MemoCurrencyIcon = memo(CurrencyIcon);\nconst MemoCounter = memo(Counter);\n\ninterface IIngredientCard {\n  count: number;\n  handleIngredientClick: <T>(arg: T) => void;\n  item: Pick<Ingredient, 'name' | 'image' | 'price'>\n}\n\nconst IngredientCard:React.FC<IIngredientCard> = ({ count, handleIngredientClick, item }) => {\n  const { name, image, price } = item;\n  const [{ opacity }, drag, dragPreview] = useDrag({\n    item,\n    type: ItemTypes.Ingredient,\n    collect: (monitor) => ({\n      opacity: monitor.isDragging() ? 0.4 : 1,\n    }),\n  });\n\n  return (\n    <li\n      className={styles.card}\n      onClick={() => handleIngredientClick(item)}\n      ref={drag}\n      style={{ opacity }}\n    >\n      {count > 0 && <MemoCounter count={count} size=\"default\" />}\n      <img\n        className={`${styles.image} mb-1`}\n        src={image}\n        alt={name}\n        ref={dragPreview}\n      />\n      <div className={`${styles.price} mb-1`}>\n        <span className={`text text_type_digits-default mr-1`}>{price}</span>\n        <MemoCurrencyIcon type=\"primary\" />\n      </div>\n\n      <p className={`${styles.name} text text_type_main-default`}>{name}</p>\n    </li>\n  );\n};\n\n\n\nexport default memo(IngredientCard);\n","import React from \"react\";\nimport style from \"./Loader.module.css\";\n\nconst Loader:React.FC = () => {\n  return (\n    <div className={style.loadContainer}>\n      <div className={style.ldsHeart}>\n        <div />\n      </div>\n    </div>\n  );\n};\n\nexport default Loader;\n","import React, { memo, useCallback, useEffect, useRef, useState } from \"react\";\nimport { Tab } from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport { scroller } from \"react-scroll\";\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport { v4 as uuidv4 } from \"uuid\";\n\nimport styles from \"./BurgerIngredients.module.css\";\n\nimport { IngredientCard, IngredientsContainerWithTitle } from \"./\";\nimport { ScrollableContainer } from \"../../uikit\";\nimport {\n  getDataFromApi,\n  handleBunSelection,\n  handleItemAddition,\n  handleOpenIngredientDetailsModal,\n  setCurrentIngredient,\n} from \"../../services/slices\";\nimport { Loader } from \"../Loader\";\nimport { LoadStatuses, Routes } from \"../../enums\";\nimport { useAppDispatch, useAppSelector } from \"../../hooks\";\n\nconst BurgerIngredients: React.FC = () => {\n  const dispatch = useAppDispatch();\n\n  const history = useHistory();\n\n  const location = useLocation();\n\n  const [current, setCurrent] = useState(\"buns\");\n\n  const {\n    data: { data, dataLoading },\n    items: { selectedItemsCount, selectedBun },\n  } = useAppSelector(({ data, items }) => ({ data, items }));\n\n  useEffect(() => {\n    if (data.length === 0) {\n      dispatch(getDataFromApi());\n    }\n    //eslint-disable-next-line\n  }, []);\n\n  const containerRef = useRef<HTMLDivElement>(null);\n  const bunsRef = useRef<{childBindings: {domNode: HTMLDivElement}}>(null);\n  const saucesRef = useRef<{childBindings: {domNode: HTMLDivElement}}>(null);\n  const toppingsRef = useRef<{childBindings: {domNode: HTMLDivElement}}>(null);\n\n  const handleIngredientClick = useCallback((item) => {\n    if (item.type === \"bun\") {\n      dispatch(handleBunSelection(item));\n    } else {\n      dispatch(handleItemAddition({ ...item, randomId: uuidv4() }));\n    }\n\n    dispatch(setCurrentIngredient(item));\n    dispatch(handleOpenIngredientDetailsModal());\n\n    history.push({\n      pathname: `${Routes.Ingredients}/${item._id}`,\n      state: {\n        background: location,\n      },\n    });\n\n    //eslint-disable-next-line\n  }, []);\n\n  const handleTabClick = useCallback((current) => {\n    scroller.scrollTo(current, {\n      duration: 800,\n      delay: 10,\n      smooth: true,\n      containerId: \"burgerIngredientsScrollableContainer\",\n      offset: -20,\n    });\n  }, []);\n\n  const handleScroll = useCallback(() => {\n    if (\n      containerRef.current &&\n      bunsRef.current &&\n      saucesRef.current &&\n      toppingsRef.current\n    ) {\n      const bunDistance = Math.abs(\n        containerRef?.current?.getBoundingClientRect()?.top -\n          bunsRef?.current?.childBindings.domNode.getBoundingClientRect()?.top\n      );\n      const sauceDistance = Math.abs(\n        containerRef?.current?.getBoundingClientRect()?.top -\n          saucesRef.current?.childBindings.domNode.getBoundingClientRect()?.top\n      );\n      const toppingsDistance = Math.abs(\n        containerRef?.current?.getBoundingClientRect()?.top -\n          toppingsRef.current?.childBindings.domNode.getBoundingClientRect()?.top\n      );\n      const min = Math.min(bunDistance, sauceDistance, toppingsDistance);\n      setCurrent(\n        min === bunDistance\n          ? \"buns\"\n          : min === sauceDistance\n          ? \"sauces\"\n          : \"toppings\"\n      );\n    }\n  }, []);\n\n  if (dataLoading === LoadStatuses.Pending) return <Loader />;\n\n  return (\n    <div className={`${styles.section} pt-10 pb-10`}>\n      <h1 className=\"text text_type_main-large mb-5\"> </h1>\n      <div style={{ display: \"flex\" }}>\n        <Tab value=\"buns\" active={current === \"buns\"} onClick={handleTabClick}>\n          \n        </Tab>\n        <Tab\n          value=\"sauces\"\n          active={current === \"sauces\"}\n          onClick={handleTabClick}\n        >\n          \n        </Tab>\n        <Tab\n          value=\"toppings\"\n          active={current === \"toppings\"}\n          onClick={handleTabClick}\n        >\n          \n        </Tab>\n      </div>\n\n      <ScrollableContainer\n        className=\"pt-10\"\n        id=\"burgerIngredientsScrollableContainer\"\n        containerRef={containerRef}\n        onScroll={handleScroll}\n      >\n        <IngredientsContainerWithTitle\n          title=\"\"\n          name=\"buns\"\n          containerRef={bunsRef}\n        >\n          {Array.isArray(data) &&\n            data\n              .filter((item) => item.type === \"bun\")\n              .map((item) => {\n                const count =\n                  selectedBun && selectedBun._id === item._id ? 2 : 0;\n\n                return (\n                  <IngredientCard\n                    handleIngredientClick={handleIngredientClick}\n                    count={count}\n                    item={item}\n                    key={item._id}\n                  />\n                );\n              })}\n        </IngredientsContainerWithTitle>\n        <IngredientsContainerWithTitle\n          title=\"\"\n          name=\"sauces\"\n          containerRef={saucesRef}\n        >\n          {Array.isArray(data) &&\n            data\n              .filter((item) => item.type === \"sauce\")\n              .map((item) => (\n                <IngredientCard\n                  handleIngredientClick={handleIngredientClick}\n                  count={selectedItemsCount?.[item.name] || 0}\n                  item={item}\n                  key={item._id}\n                />\n              ))}\n        </IngredientsContainerWithTitle>\n        <IngredientsContainerWithTitle\n          title=\"\"\n          name=\"toppings\"\n          containerRef={toppingsRef}\n        >\n          {Array.isArray(data) &&\n            data\n              .filter((item) => item.type === \"main\")\n              .map((item) => (\n                <IngredientCard\n                  handleIngredientClick={handleIngredientClick}\n                  count={selectedItemsCount?.[item.name] || 0}\n                  item={item}\n                  key={item._id}\n                />\n              ))}\n        </IngredientsContainerWithTitle>\n      </ScrollableContainer>\n    </div>\n  );\n};\n\nexport default memo(BurgerIngredients);\n","import React from \"react\";\n\nimport styles from \"./IngredientDetails.module.css\";\nimport { Nutrient } from \"./\";\nimport { Ingredient } from \"../../interfaces\";\n\ninterface IIngredientDetails {\n  currentIngredient: Pick<\n    Ingredient,\n    \"image_large\" | \"calories\" | \"carbohydrates\" | \"fat\" | \"proteins\" | \"name\"\n  >;\n}\n\nconst IngredientDetails: React.FC<IIngredientDetails> = ({\n  currentIngredient: {\n    image_large,\n    calories,\n    carbohydrates,\n    fat,\n    proteins,\n    name,\n  },\n}) => {\n  const nutrients = [\n    { value: calories || 0, name: \"\", unit: \"\" },\n    { value: proteins || 0, name: \"\", unit: \"\" },\n    { value: fat || 0, name: \"\", unit: \"\" },\n    { value: carbohydrates || 0, name: \"\", unit: \"\" },\n  ];\n\n  return (\n    <>\n      <img className=\"mb-4\" src={image_large} alt={name} />\n      <h3 className={`${styles.name} text text_type_main-medium mb-8`}>\n        {name}\n      </h3>\n      <ul className={styles.nutrientsContainer}>\n        {nutrients.map(({ value, name, unit }) => (\n          <Nutrient unit={unit} name={name} value={value} key={name} />\n        ))}\n      </ul>\n    </>\n  );\n};\n\nexport default IngredientDetails;\n","import React from 'react';\nimport styles from \"./Nutrient.module.css\";\n\ninterface INutrient {\n  name: string;\n  unit: string;\n  value: number;\n}\n\nconst Nutrient = ({name, unit, value}:INutrient) => {\n    return (\n      <li className={styles.nutrient}>\n          <p className=\"text text_type_main-default text_color_inactive mb-3\">{`${name}, ${unit}`}</p>\n          <p className=\"text text_type_digits-default text_color_inactive\">{value}</p>\n      </li>\n    );\n}\n\nexport default Nutrient;\n","import React from \"react\";\nimport styles from \"./ModalOverlay.module.css\";\n\ninterface IModalOverlay {\n  className?: string;\n  onClick: () => void;\n}\n\nconst ModalOverlay: React.FC<IModalOverlay> = ({\n  className,\n  onClick,\n  ...props\n}) => <div className={styles.backdrop} onClick={onClick} {...props} />;\n\nexport default ModalOverlay;\n","import React, { memo, useEffect } from \"react\";\nimport { createPortal } from \"react-dom\";\n\nimport styles from \"./Modal.module.css\";\n\nimport { ModalOverlay } from \"../ModalOverlay\";\nimport { CloseIcon } from \"@ya.praktikum/react-developer-burger-ui-components\";\n\nconst MemoCloseIcon = memo(CloseIcon);\n\nconst modalRoot = document.getElementById(\"react-modals\")!;\n\ninterface IModal {\n  onClose: () => void;\n  header?: string;\n  headerType?: \"main\" | \"digits\";\n  headerSize?: \"large\" | \"default\" | \"medium\" | \"small\";\n}\n\nconst Modal: React.FC<IModal> = ({\n  children,\n  onClose,\n  header = \"\",\n  headerType = \"main\",\n  headerSize = \"large\",\n  ...props\n}) => {\n  const spacesWithHeader = \"pb-15\";\n  const spacesWithoutHeader = \"pb-30\";\n\n  const handleEscClose = (event:KeyboardEvent) => event.key === \"Escape\" && onClose();\n\n  useEffect(() => {\n    document.addEventListener(\"keydown\", handleEscClose, false);\n    return () => document.removeEventListener(\"keydown\", handleEscClose, false);\n    //eslint-disable-next-line\n  }, []);\n\n  return createPortal(\n    <div className={styles.modal}>\n      <ModalOverlay onClick={onClose} />\n      <div\n        className={`${styles.modalContainer} pt-15 pl-10 pr-10 ${\n          header === \"\" ? spacesWithoutHeader : spacesWithHeader\n        }`}\n        {...props}\n      >\n        <h2\n          className={`${styles.header} text text_type_${headerType}-${headerSize}`}\n        >\n          {header}\n          <span className={styles.closeIcon}>\n            <MemoCloseIcon type=\"primary\" onClick={onClose} />\n          </span>\n        </h2>\n        {children}\n      </div>\n    </div>,\n    modalRoot\n  );\n};\n\nexport default Modal;\n","import React from \"react\";\n\nimport styles from \"./OrderDetails.module.css\";\n\nimport { OrderDoneImage } from \"../../uikit\";\n\ninterface IOrderDetails {\n  orderNumber: string | number;\n}\n\nconst OrderDetails:React.FC<IOrderDetails> = ({ orderNumber }) => {\n  return (\n    <>\n      <h3 className={`${styles.orderNumber} text text_type_digits-large mb-8`}>\n        {String(orderNumber).padStart(6, \"0\")}\n      </h3>\n      <p className=\"text text_type_main-medium mb-15\"> </p>\n      <OrderDoneImage className=\"mb-15\" />\n      <p className=\"text text_type_main-default mb-2\">\n           \n      </p>\n      <p className=\"text text_type_main-default text_color_inactive\">\n            \n      </p>\n    </>\n  );\n};\n\nexport default OrderDetails;\n","import React from \"react\";\nimport { Modal } from \"../Modal\";\nimport { handleCloseOrderDetailsModal } from \"../../services/slices\";\nimport { OrderDetails } from \"../OrderDetails\";\nimport { useDispatch } from \"react-redux\";\nimport { useAppSelector } from \"../../hooks\";\n\nconst OrderDetailsModal = () => {\n  const dispatch = useDispatch();\n\n  const { isOrderDetailsModalIsOpen, orderNumber } = useAppSelector(\n    (state) => state.modalWindows\n  );\n\n  if (!isOrderDetailsModalIsOpen || !orderNumber) return null;\n\n  return (\n    <Modal onClose={() => dispatch(handleCloseOrderDetailsModal())}>\n      <OrderDetails orderNumber={orderNumber} />\n    </Modal>\n  );\n};\n\nexport default OrderDetailsModal;\n","import React, { memo } from \"react\";\nimport { Input } from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport {Control, Controller} from \"react-hook-form\";\n\ninterface IControlledInput {\n  type: \"text\" | \"email\" | \"password\";\n  placeholder: string;\n  name: string;\n  errors: {[key: string]: {message: string}};\n  control: Control;\n  defaultValue?: string;\n  inputRef?: React.RefObject<HTMLInputElement>;\n  [x: string]: any;\n}\n\nconst ControlledInput: React.FC<IControlledInput> = ({\n  type,\n  placeholder,\n  errors,\n  name,\n  control,\n  defaultValue = \"\",\n  inputRef,\n  ...props\n}) => {\n  return (\n    <Controller\n      render={({ field: { ref, ...field } }) => (\n        <Input\n          type={type}\n          placeholder={placeholder}\n          errorText={errors?.[name]?.message}\n          error={errors.hasOwnProperty(name)}\n          success={true}\n          ref={inputRef}\n          {...field}\n          {...props}\n        />\n      )}\n      name={name}\n      control={control}\n      defaultValue={defaultValue}\n    />\n  );\n};\n\nexport default memo(ControlledInput);\n","import React from \"react\";\nimport styles from \"./FormContainer.module.css\";\nimport classNames from \"classnames\";\nimport { useForm } from \"react-hook-form\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport { Button } from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport { LoadStatuses } from \"../../enums\";\nimport { FadeAnim } from \"../../uikit\";\nimport { ControlledInput } from \"../ControlledInput\";\nimport { IFetchUserData, IFormSubtitle, IInputProps } from \"../../interfaces\";\nimport { useAppSelector } from \"../../hooks\";\n\ninterface IFormContainer {\n  title: string;\n  onSubmit: (arg: IFetchUserData) => void;\n  buttonValue: string;\n  inputs: IInputProps[];\n  subtitle: IFormSubtitle[];\n  schema: any;\n}\n\nconst FormContainer: React.FC<IFormContainer> = ({\n  title,\n  buttonValue,\n  onSubmit,\n  inputs,\n  subtitle,\n  schema,\n}) => {\n  const {\n    handleSubmit,\n    control,\n    formState: { errors },\n  } = useForm({\n    resolver: yupResolver(schema),\n  });\n\n  const { formLoading, formErrorMessage, formPendingSuccessMessage } =\n    useAppSelector((state) => state.form);\n\n  return (\n    <FadeAnim className={styles.container}>\n      <form\n        className={classNames(styles.form, \"mb-20\")}\n        onSubmit={handleSubmit(onSubmit)}\n      >\n        <h2\n          className={classNames(\"text\", \"text_type_main-medium\", styles.title)}\n        >\n          {title}\n        </h2>\n        {Array.isArray(inputs) &&\n          inputs.map(\n            ({ type, name, placeholder, defaultValue = \"\", ...props }) => {\n              return (\n                <ControlledInput\n                  key={name}\n                  placeholder={placeholder}\n                  control={control}\n                  name={name}\n                  errors={errors}\n                  type={type}\n                  {...props}\n                />\n              );\n            }\n          )}\n        <Button\n          type=\"primary\"\n          size=\"medium\"\n          onClick={\n            formLoading === LoadStatuses.Pending\n              ? undefined\n              : handleSubmit(onSubmit)\n          }\n        >\n          {formLoading === LoadStatuses.Pending ? \"...\" : buttonValue}\n        </Button>\n\n        {formErrorMessage && (\n          <span\n            className={classNames(\n              \"text\",\n              \"text_type_main-default\",\n              styles.error\n            )}\n          >\n            {formErrorMessage}\n          </span>\n        )}\n        {formPendingSuccessMessage && (\n          <span\n            className={classNames(\n              \"text\",\n              \"text_type_main-default\",\n              styles.success\n            )}\n          >\n            {formPendingSuccessMessage}\n          </span>\n        )}\n      </form>\n\n      <div className={styles.subtitleContainer}>\n        {Array.isArray(subtitle) &&\n          subtitle.map(({ text, linkText, onLinkClick }) => (\n            <p\n              className=\"text text_type_main-default text_color_inactive\"\n              key={text}\n            >\n              {`${text} `}\n              <span className={styles.link} onClick={onLinkClick}>\n                {linkText}\n              </span>\n            </p>\n          ))}\n      </div>\n    </FadeAnim>\n  );\n};\n\nexport default FormContainer;\n","import React from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { Modal } from \"../Modal\";\nimport { handleCloseIngredientDetailsModal } from \"../../services/slices\";\nimport { IngredientDetails } from \"../IngredientDetails\";\nimport { useAppDispatch, useAppSelector } from \"../../hooks\";\n\nconst IngredientDetailsModal = () => {\n  const dispatch = useAppDispatch();\n\n  const history = useHistory();\n\n  const {\n    items: { currentIngredient },\n    modalWindows: { isIngredientDetailsModalIsOpen },\n  } = useAppSelector(({ items, modalWindows }) => ({\n    items,\n    modalWindows,\n  }));\n\n  if (!isIngredientDetailsModalIsOpen || !currentIngredient) return null;\n\n  const handleClose = () => {\n    dispatch(handleCloseIngredientDetailsModal());\n    history.goBack();\n  };\n\n  return (\n    <Modal onClose={handleClose} header=\" \">\n      <IngredientDetails currentIngredient={currentIngredient} />\n    </Modal>\n  );\n};\n\nexport default IngredientDetailsModal;\n","import React, { memo } from \"react\";\nimport { NavLink, useLocation } from \"react-router-dom\";\nimport classNames from \"classnames\";\n\nimport styles from \"./NavButton.module.css\";\nimport { TIconProps } from \"@ya.praktikum/react-developer-burger-ui-components/dist/ui/icons/utils\";\n\ninterface INavButton {\n  IconComponent?: ({ type }: TIconProps) => JSX.Element;\n  text: string;\n  to: string;\n  textSize?: \"default\" | \"large\" | \"medium\" | \"small\";\n}\n\nconst NavButton: React.FC<INavButton> = ({\n  IconComponent,\n  text,\n  to,\n  textSize = \"default\",\n}) => {\n  const { pathname } = useLocation();\n\n  return (\n    <div className=\"p-5\">\n      <NavLink\n        exact\n        className={classNames(\n          styles.link,\n          \"text\",\n          `text_type_main-${textSize}`,\n          \"text_color_inactive\"\n        )}\n        activeClassName={styles.active}\n        to={to}\n      >\n        {IconComponent && (\n          <IconComponent type={pathname === to ? \"primary\" : \"secondary\"} />\n        )}\n        {text}\n      </NavLink>\n    </div>\n  );\n};\n\nexport default memo(NavButton);\n","import React, { useEffect, useState } from \"react\";\nimport { unwrapResult } from \"@reduxjs/toolkit\";\nimport { Redirect, Route, RouteProps } from \"react-router-dom\";\n\nimport { Loader } from \"../Loader\";\nimport { handleGetUserData } from \"../../services/slices\";\nimport { Routes } from \"../../enums\";\nimport { useAppDispatch, useAppSelector } from \"../../hooks\";\n\nconst ProtectedRoute: React.FC<RouteProps> = ({ children, ...props }) => {\n  const { isAuthenticated } = useAppSelector((state) => state.auth);\n\n  const [isUserLoaded, setUserLoaded] = useState(false);\n\n  const dispatch = useAppDispatch();\n\n  useEffect(() => {\n    if (!isAuthenticated) {\n      dispatch(handleGetUserData())\n        .then(unwrapResult)\n        .catch(() => {})\n        .finally(() => setUserLoaded(true));\n    } else {\n      setUserLoaded(true);\n    }\n\n    return () => {\n      setUserLoaded(false);\n    };\n    //eslint-disable-next-line\n  }, []);\n\n  if (!isUserLoaded) {\n    return <Loader />;\n  }\n\n  return (\n    <Route\n      {...props}\n      render={({ location }) =>\n        isAuthenticated ? (\n          children\n        ) : (\n          <Redirect\n            to={{\n              pathname: Routes.Login,\n              state: { from: location },\n            }}\n          />\n        )\n      }\n    />\n  );\n};\n\nexport default ProtectedRoute;\n","import React, { useEffect } from \"react\";\nimport { Redirect, Route, RouteProps } from \"react-router-dom\";\n\nimport { handleGetUserData } from \"../../services/slices\";\nimport { LoadStatuses, Routes } from \"../../enums\";\nimport { Loader } from \"../Loader\";\nimport { useAppDispatch, useAppSelector } from \"../../hooks\";\n\nconst HiddenForAuthUsersRoute: React.FC<RouteProps> = ({\n  children,\n  ...props\n}) => {\n  const { isAuthenticated, tokenResponseStatus } = useAppSelector(\n    (state) => state.auth\n  );\n\n  const dispatch = useAppDispatch();\n\n  useEffect(() => {\n    if (!isAuthenticated) {\n      dispatch(handleGetUserData());\n    }\n    //eslint-disable-next-line\n  }, []);\n\n  if (tokenResponseStatus === LoadStatuses.Pending) {\n    return <Loader />;\n  }\n\n  return (\n    <Route\n      {...props}\n      render={({ location }) =>\n        isAuthenticated ? (\n          <Redirect\n            to={{ pathname: Routes.Profile, state: { from: location } }}\n          />\n        ) : (\n          children\n        )\n      }\n    />\n  );\n};\n\nexport default HiddenForAuthUsersRoute;\n","import { IInputProps } from \"../interfaces\";\n\ninterface IInputs {\n  name: IInputProps;\n  createEmailInputProps: (x: string) => IInputProps;\n  createPasswordInputProps: (\n    x: string,\n    y: boolean,\n    z: () => void\n  ) => IInputProps;\n  createTokenProps: (x: string) => IInputProps;\n}\n\nexport const INPUTS: IInputs = {\n  name: { name: \"name\", placeholder: \"\", type: \"text\" },\n  createEmailInputProps: (placeholder) => ({\n    name: \"email\",\n    placeholder,\n    type: \"text\",\n  }),\n  createPasswordInputProps: (placeholder, isPasswordHide, handler) => ({\n    name: \"password\",\n    placeholder,\n    type: isPasswordHide ? \"password\" : \"text\",\n    icon: isPasswordHide ? \"ShowIcon\" : \"HideIcon\",\n    onIconClick: handler,\n  }),\n  createTokenProps: (defaultValue) => ({\n    name: \"token\",\n    placeholder: \"   \",\n    type: \"text\",\n    defaultValue,\n  }),\n};\n","import * as yup from \"yup\";\nimport { ValidationErrorMessages } from \"../enums\";\n\nexport const VALIDATION_SCHEMA = {\n  EMAIL: yup\n    .string()\n    .email(ValidationErrorMessages.IsEmail)\n    .required(ValidationErrorMessages.IsRequired),\n  STRING: yup.string().required(ValidationErrorMessages.IsRequired),\n  PASSWORD: yup\n    .string()\n    .min(6, ValidationErrorMessages.IsPassword)\n    .required(ValidationErrorMessages.IsRequired),\n  EMAIL_NOT_REQUIRED: yup.string().email(ValidationErrorMessages.IsEmail),\n  STRING_NOT_REQUIRED: yup.string(),\n  PASSWORD_NOT_REQUIRED: yup.string(),\n};\n","import React, { useMemo, useRef, useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport * as yup from \"yup\";\n\nimport styles from \"./ProfileForm.module.css\";\n\nimport { FadeAnim } from \"../../uikit\";\nimport { VALIDATION_SCHEMA } from \"../../constants\";\nimport { ControlledInput } from \"../ControlledInput\";\nimport { Button } from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport { handleUpdateUserData } from \"../../services/slices\";\nimport { unwrapResult } from \"@reduxjs/toolkit\";\nimport classNames from \"classnames\";\nimport { useAppDispatch, useAppSelector } from \"../../hooks\";\nimport { IInputProps, ISetFetchUserData } from \"../../interfaces\";\nimport { LoadStatuses } from \"../../enums\";\n\nconst schema = yup.object().shape({\n  name: VALIDATION_SCHEMA.STRING_NOT_REQUIRED,\n  email: VALIDATION_SCHEMA.EMAIL_NOT_REQUIRED,\n  password: VALIDATION_SCHEMA.PASSWORD_NOT_REQUIRED,\n});\n\nconst initialState: { [key: string]: boolean } = {\n  name: true,\n  email: true,\n  password: true,\n};\n\nconst ProfileForm = () => {\n  const {\n    handleSubmit,\n    control,\n    reset,\n    watch,\n    formState: { errors, isDirty },\n  } = useForm({\n    resolver: yupResolver(schema),\n  });\n\n  const { userName, userEmail, tokenResponseStatus } = useAppSelector(\n    (state) => state.auth\n  );\n\n  const [disabledInputs, setDisabledInputs] = useState(initialState);\n\n  const [nameValue, emailValue, passwordValue] = watch([\n    \"name\",\n    \"email\",\n    \"password\",\n  ]);\n\n  const [success, setSuccess] = useState(false);\n  const [error, setError] = useState(false);\n\n  const dispatch = useAppDispatch();\n\n  const nameRef = useRef<HTMLInputElement>(null);\n  const emailRef = useRef<HTMLInputElement>(null);\n  const passwordRef = useRef<HTMLInputElement>(null);\n\n  const onSubmit = (data: ISetFetchUserData) => {\n    const newData: ISetFetchUserData = {};\n\n    if (data.email !== userEmail) {\n      newData.email = data.email;\n    }\n\n    if (data.name !== userName) {\n      newData.name = data.name;\n    }\n\n    if (data?.password && data.password.length > 5) {\n      newData.password = data.password;\n    }\n\n    dispatch(handleUpdateUserData(newData))\n      .then(unwrapResult)\n      .then(() => {\n        setSuccess(true);\n\n        const timer = setTimeout(() => {\n          setSuccess(false);\n          clearInterval(timer);\n        }, 1500);\n      })\n      .catch(() => {\n        setError(true);\n\n        const timer = setTimeout(() => {\n          setError(false);\n          clearInterval(timer);\n        }, 1500);\n      });\n  };\n\n  const handleInputsReset = () => {\n    reset({ name: userName, email: userEmail, password: \"\" });\n  };\n\n  const inputs = useMemo<IInputProps[]>(\n    () => [\n      {\n        name: \"name\",\n        placeholder: \"\",\n        type: \"text\",\n        defaultValue: userName || \"\",\n        inputRef: nameRef,\n      },\n      {\n        name: \"email\",\n        placeholder: \"E-mail\",\n        type: \"text\",\n        defaultValue: userEmail || \"\",\n        inputRef: emailRef,\n      },\n      {\n        name: \"password\",\n        placeholder: \"\",\n        type: \"password\",\n        inputRef: passwordRef,\n      },\n    ],\n    [userEmail, userName]\n  );\n\n  return (\n    <FadeAnim className={styles.container}>\n      <form className={styles.container} onSubmit={handleSubmit(onSubmit)}>\n        {Array.isArray(inputs) &&\n          inputs.map(\n            ({\n              type,\n              name,\n              placeholder,\n              defaultValue = \"\",\n              inputRef,\n              ...props\n            }) => {\n              return (\n                <ControlledInput\n                  key={name}\n                  placeholder={placeholder}\n                  control={control}\n                  name={name}\n                  errors={errors}\n                  icon={\"EditIcon\"}\n                  type={type}\n                  disabled={Boolean(disabledInputs?.[name])}\n                  defaultValue={defaultValue}\n                  inputRef={inputRef}\n                  onIconClick={() => {\n                    setDisabledInputs({ ...initialState, [name]: false });\n                    setTimeout(() => {\n                      if (inputRef && inputRef.hasOwnProperty(\"current\")) {\n                        inputRef?.current?.focus();\n                      }\n                    }, 0);\n                  }}\n                  onBlur={() => setDisabledInputs(initialState)}\n                  {...props}\n                />\n              );\n            }\n          )}\n\n        {error && (\n          <span\n            className={classNames(\n              \"text\",\n              \"text_type_main-default\",\n              styles.error\n            )}\n          >\n              \n          </span>\n        )}\n        {success && (\n          <span\n            className={classNames(\n              \"text\",\n              \"text_type_main-default\",\n              styles.success\n            )}\n          >\n              \n          </span>\n        )}\n      </form>\n\n      {(isDirty ||\n        (!nameValue &&\n          nameValue !== userName &&\n          emailValue !== userEmail &&\n          passwordValue)) && (\n        <FadeAnim className={styles.buttonsContainer}>\n          <Button type=\"secondary\" size=\"medium\" onClick={handleInputsReset}>\n            \n          </Button>\n          <Button\n            type=\"primary\"\n            size=\"medium\"\n            onClick={\n              tokenResponseStatus === LoadStatuses.Idle\n                ? handleSubmit(onSubmit)\n                : undefined\n            }\n          >\n            \n          </Button>\n        </FadeAnim>\n      )}\n    </FadeAnim>\n  );\n};\n\nexport default ProfileForm;\n","import React, { memo, useCallback } from \"react\";\nimport classnames from \"classnames\";\nimport { CurrencyIcon } from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport { checkOrderStatus } from \"../../utils\";\n\nimport styles from \"./CardOrder.module.css\";\nimport {\n  handleOpenFeedInfoModal,\n  handleOrderSelection,\n} from \"../../services/slices\";\nimport { Routes } from \"../../enums\";\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport { useAppDispatch } from \"../../hooks\";\nimport { ParsedIngredient } from \"../../interfaces\";\n\nconst MemoCurrencyIcon = memo(CurrencyIcon);\n\nexport interface ICardOrder {\n  _id: string;\n  orderNumber: number;\n  date: string;\n  burgerName: string;\n  orderStatus: string;\n  ingredients: ParsedIngredient[] | [];\n  price: number;\n  iconsCount?: number;\n  fromProfile?: boolean;\n}\n\nconst CardOrder: React.FC<ICardOrder> = ({\n  _id,\n  orderNumber,\n  date,\n  burgerName,\n  orderStatus,\n  ingredients,\n  price,\n  iconsCount = 6,\n  fromProfile = false,\n}) => {\n  const dispatch = useAppDispatch();\n\n  const location = useLocation();\n\n  const history = useHistory();\n\n  const remains =\n    ingredients.length > iconsCount ? ingredients.length - iconsCount : 0;\n\n  const handleCardClick = useCallback(() => {\n    dispatch(\n      handleOrderSelection({\n        orderNumber,\n        date,\n        burgerName,\n        orderStatus,\n        ingredients,\n        fullPrice: price,\n      })\n    );\n    dispatch(handleOpenFeedInfoModal());\n\n    history.push({\n      pathname: `${fromProfile ? Routes.Orders : Routes.Feed}/${_id}`,\n      state: {\n        background: location,\n      },\n    });\n    //eslint-disable-next-line\n  }, []);\n\n  return (\n    <div\n      className={classnames(styles.container, \"p-6\")}\n      onClick={handleCardClick}\n    >\n      <div className={classnames(styles.flexContainer, \"mb-6\")}>\n        <p className=\"text text_type_digits-default\">{`#${orderNumber}`}</p>\n        <p className=\"text text_type_main-default text_color_inactive\">\n          {date}\n        </p>\n      </div>\n      <p className=\"text text_type_main-medium mb-3\">{burgerName}</p>\n      <p\n        className={classnames(\n          \"text\",\n          \"text_type_main-small\",\n          (orderStatus === \"pending\" || orderStatus === \"done\") &&\n            styles.orderStatusPending,\n          orderStatus === \"error\" && styles.orderStatusError,\n          \"mb-4\"\n        )}\n      >\n        {checkOrderStatus(orderStatus)}\n      </p>\n\n      <div className={styles.flexContainer}>\n        <div className={styles.iconContainer}>\n          {[...ingredients]\n            .splice(0, iconsCount)\n            .map(({ image, id }, index) => {\n              return (\n                <div\n                  className={classnames(\n                    styles.icon,\n                    remains > 0 && styles.iconWithRemains\n                  )}\n                  key={id}\n                  style={{\n                    zIndex: iconsCount - index,\n                    backgroundImage: `url(${image})`,\n                  }}\n                >\n                  {index === 5 && remains > 0 ? (\n                    <span\n                      className={classnames(\n                        \"text\",\n                        \"text_type_main-default\",\n                        styles.remainsText\n                      )}\n                    >\n                      +{remains}\n                    </span>\n                  ) : null}\n                </div>\n              );\n            })}\n        </div>\n\n        <span\n          className={classnames(\n            \"text\",\n            \"text_type_digits-default\",\n            styles.flexContainer\n          )}\n        >\n          {price} <MemoCurrencyIcon type=\"primary\" />\n        </span>\n      </div>\n    </div>\n  );\n};\n\nexport default memo(CardOrder);\n","import React from \"react\";\nimport styles from \"./FeedIngredients.module.css\";\nimport { ScrollableContainer } from \"../../uikit\";\nimport { CardOrder } from \"../CardOrder\";\nimport { parseFullPrice, parseDate, parseIngredients } from \"../../utils\";\nimport {useAppSelector} from \"../../hooks\";\n\nconst FeedIngredients:React.FC = () => {\n  const { orders } = useAppSelector((state) => state.orders);\n  const { dataObjectVariant } = useAppSelector((state) => state.data);\n\n  return (\n    <div className={`${styles.section} pt-10 pb-10`}>\n      <h1 className=\"text text_type_main-large mb-5\"> </h1>\n      <ScrollableContainer\n        className=\"pt-10\"\n        id=\"burgerIngredientsScrollableContainer\"\n      >\n        <div className={styles.orders}>\n          {orders.map(\n            ({ _id, ingredients, status, name, updatedAt, number }) => {\n              if (!dataObjectVariant) return null;\n\n              const ingredientsParsed = parseIngredients(\n                ingredients,\n                dataObjectVariant\n              );\n              const price = parseFullPrice(ingredients, dataObjectVariant);\n              const date = parseDate(updatedAt);\n\n              return (\n                <CardOrder\n                  key={_id}\n                  _id={_id}\n                  ingredients={ingredientsParsed}\n                  orderStatus={status}\n                  burgerName={name}\n                  price={price}\n                  date={date}\n                  orderNumber={number}\n                />\n              );\n            }\n          )}\n        </div>\n      </ScrollableContainer>\n    </div>\n  );\n};\n\nexport default FeedIngredients;\n","import React, { memo } from \"react\";\nimport classnames from \"classnames\";\nimport styles from \"./OrderColumns.module.css\";\nimport { IOrder } from \"../../../services/slices/ordersSlice/interfaces\";\n\ninterface IOrderColumns {\n  title: string;\n  variant?: \"primary\" | \"secondary\";\n  orders: IOrder[];\n}\n\nconst OrderColumns:React.FC<IOrderColumns> = ({\n  title,\n  variant = \"primary\",\n  orders,\n}) => {\n  return (\n    <div className={classnames(styles.container, \"mb-15\")}>\n      <p className=\"text text_type_main-default mb-6\">{title}:</p>\n      <div className={styles.orderColumns}>\n        {orders.length > 0 &&\n          orders.map(({ number, _id }) => (\n            <p\n              className={classnames(\n                \"text\",\n                \"text_type_digits-default\",\n                styles.orderItem,\n                variant === \"primary\" && styles.variantPrimary\n              )}\n              key={_id}\n            >\n              {number}\n            </p>\n          ))}\n      </div>\n    </div>\n  );\n};\n\nexport default memo(OrderColumns);\n","import React, { useMemo } from \"react\";\nimport classnames from \"classnames\";\nimport styles from \"./FeedNumbersTablet.module.css\";\nimport { OrderColumns } from \"./OrderColumns\";\nimport { useAppSelector } from \"../../hooks\";\n\nconst FeedNumbersTablet:React.FC = () => {\n  const { orders, total, totalToday } = useAppSelector((state) => state.orders);\n\n  const readyOrders = useMemo(\n    () => orders.filter(({ status }) => status === \"done\").splice(0, 20),\n    [orders]\n  );\n  const onWorkOrders = useMemo(\n    () => orders.filter(({ status }) => status === \"pending\").splice(0, 20),\n    [orders]\n  );\n\n  return (\n    <div className={classnames(styles.section, \"pt-25\", \"pb-10\")}>\n      <div className={styles.flexContainer}>\n        <OrderColumns title=\"\" orders={readyOrders} />\n        <OrderColumns\n          title=\" \"\n          orders={onWorkOrders}\n          variant=\"secondary\"\n        />\n      </div>\n\n      <div className=\"mb-15\">\n        <p className=\"text text_type_main-medium\">   :</p>\n        <p\n          className={classnames(\n            \"text\",\n            \"text_type_digits-large\",\n            styles.numbers\n          )}\n        >\n          {total}\n        </p>\n      </div>\n\n      <div>\n        <p className=\"text text_type_main-medium\">  :</p>\n        <p\n          className={classnames(\n            \"text\",\n            \"text_type_digits-large\",\n            styles.numbers\n          )}\n        >\n          {totalToday}\n        </p>\n      </div>\n    </div>\n  );\n};\n\nexport default FeedNumbersTablet;\n","import React, { memo } from \"react\";\nimport classnames from \"classnames\";\nimport styles from \"./FeedInfo.module.css\";\nimport { checkOrderStatus } from \"../../utils\";\nimport { ScrollableContainer } from \"../../uikit\";\nimport { CurrencyIcon } from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport {ParsedIngredient} from \"../../interfaces\";\n\nconst MemoCurrencyIcon = memo(CurrencyIcon);\n\ninterface IFeedInfo {\n  hideOrderNumber?: boolean;\n  burgerName: string;\n  orderNumber: number;\n  orderStatus: string;\n  ingredients: ParsedIngredient[];\n  date: string;\n  fullPrice: number;\n}\n\nconst FeedInfo: React.FC<IFeedInfo> = ({\n  orderNumber,\n  burgerName,\n  orderStatus,\n  ingredients,\n  date,\n  fullPrice,\n  hideOrderNumber = false,\n}) => {\n  return (\n    <div className={classnames(styles.container, \"pt-5\")}>\n      {hideOrderNumber ? null : (\n        <p\n          className={classnames(\n            \"text\",\n            \"text_type_digits-default mb-7\",\n            styles.orderNumber\n          )}\n        >\n          #{orderNumber}\n        </p>\n      )}\n\n      <p className=\"text text_type_main-medium mb-3\">{burgerName}</p>\n      <p\n        className={classnames(\n          \"text\",\n          \"text_type_main-small\",\n          styles.orderStatus,\n          (orderStatus === \"pending\" || orderStatus === \"done\") &&\n            styles.orderStatusPending,\n          orderStatus === \"error\" && styles.orderStatusError,\n          \"mb-15\"\n        )}\n      >\n        {checkOrderStatus(orderStatus)}\n      </p>\n\n      <p className=\"text text_type_main-medium mb-6\">:</p>\n      <ScrollableContainer\n        className={classnames(styles.itemsContainer, \"mb-10\")}\n      >\n        {ingredients.map(({ id, image, name, count, itemPrice }) => (\n          <div className={styles.flexContainer} key={id}>\n            <div className={styles.itemInfoContainer}>\n              <div\n                className={styles.icon}\n                style={{ backgroundImage: `url(${image})` }}\n              />\n              <p\n                className={classnames(\n                  \"text\",\n                  \"text_type_main-default\",\n                  styles.name\n                )}\n              >\n                {name}\n              </p>\n            </div>\n\n            <p\n              className={classnames(\n                \"text\",\n                \"text_type_digits-default\",\n                styles.itemInfoContainer\n              )}\n            >\n              {`${count} x ${itemPrice}`}\n              <MemoCurrencyIcon type=\"primary\" />\n            </p>\n          </div>\n        ))}\n      </ScrollableContainer>\n\n      <div className={styles.flexContainer}>\n        <p className=\"text text_type_main-default text_color_inactive\">\n          {date}\n        </p>\n        <p\n          className={classnames(\n            \"text\",\n            \"text_type_digits-default\",\n            styles.itemInfoContainer\n          )}\n        >\n          {fullPrice}\n          <MemoCurrencyIcon type=\"primary\" />\n        </p>\n      </div>\n    </div>\n  );\n};\n\nexport default FeedInfo;\n","import React from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { handleCloseFeedInfoModal } from \"../../services/slices\";\nimport { Modal } from \"../Modal\";\nimport { FeedInfo } from \"../FeedInfo\";\nimport { useAppDispatch, useAppSelector } from \"../../hooks\";\n\nconst FeedInfoModal = () => {\n  const dispatch = useAppDispatch();\n\n  const history = useHistory();\n\n  const {\n    orders: { selectedOrder },\n    modalWindows: { isFeedInfoModalIsOpen },\n  } = useAppSelector(({ orders, modalWindows }) => ({\n    orders,\n    modalWindows,\n  }));\n\n  if (!isFeedInfoModalIsOpen || !selectedOrder) return null;\n\n  const handleClose = () => {\n    dispatch(handleCloseFeedInfoModal());\n    history.goBack();\n  };\n\n  return (\n    <Modal\n      onClose={handleClose}\n      header={`#${selectedOrder?.orderNumber}`}\n      headerSize=\"default\"\n      headerType=\"digits\"\n    >\n      <FeedInfo hideOrderNumber {...selectedOrder} />\n    </Modal>\n  );\n};\n\nexport default FeedInfoModal;\n","import React from \"react\";\n\nimport { BurgerIngredients, BurgerConstructor } from \"../../components/\";\n\nconst Main = () => {\n  return (\n    <>\n      <BurgerIngredients />\n      <BurgerConstructor />\n    </>\n  );\n};\n\nexport default Main;\n","import React, {useEffect, useMemo, useState} from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { unwrapResult } from \"@reduxjs/toolkit\";\nimport * as yup from \"yup\";\n\nimport { FormContainer } from \"../../components\";\nimport { INPUTS, VALIDATION_SCHEMA } from \"../../constants\";\nimport {handleRegisterFormSubmit, resetToDefault, setUserData} from \"../../services/slices\";\nimport {Routes} from \"../../enums\";\nimport {useAppDispatch} from \"../../hooks\";\nimport {ISetFetchUserData} from \"../../interfaces\";\n\nconst schema = yup.object().shape({\n  name: VALIDATION_SCHEMA.STRING,\n  password: VALIDATION_SCHEMA.PASSWORD,\n  email: VALIDATION_SCHEMA.EMAIL,\n});\n\nconst Register:React.FC = () => {\n  const [isPasswordHide, setPasswordHide] = useState(true);\n\n  const history = useHistory();\n\n  const dispatch = useAppDispatch();\n\n  useEffect(() => {\n    dispatch(resetToDefault());\n    //eslint-disable-next-line\n  }, []);\n\n  const handlePasswordHide = ():void => setPasswordHide((prev) => !prev);\n\n  const onSubmit = (data:ISetFetchUserData):void => {\n    dispatch(handleRegisterFormSubmit(data))\n      .then(unwrapResult)\n      .then((data) => {\n        dispatch(setUserData(data));\n\n        history.replace({ pathname: Routes.Main });\n      })\n      .catch((rejectedValueOrSerializedError) => {\n        console.error(rejectedValueOrSerializedError);\n      });\n  }\n\n  const inputs = useMemo(\n    () => [\n      INPUTS.name,\n      INPUTS.createEmailInputProps(\"E-mail\"),\n      INPUTS.createPasswordInputProps(\n        \"\",\n        isPasswordHide,\n        handlePasswordHide\n      ),\n    ],\n    [isPasswordHide]\n  );\n\n  const subtitle = useMemo(\n    () => [\n      {\n        text: \" ?\",\n        linkText: \"\",\n        onLinkClick: () => {\n          history.push(Routes.Login);\n        },\n      },\n    ],\n    //eslint-disable-next-line\n    []\n  );\n\n  return (\n    <FormContainer\n      buttonValue=\"\"\n      onSubmit={onSubmit}\n      inputs={inputs}\n      subtitle={subtitle}\n      title=\"\"\n      schema={schema}\n    />\n  );\n};\n\nexport default Register;\n","import React from \"react\";\nimport classNames from \"classnames\";\nimport { useHistory } from \"react-router-dom\";\n\nimport styles from \"./Error404.module.css\";\nimport { Button } from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport { Routes } from \"../../enums\";\nimport { FadeAnim } from \"../../uikit\";\n\nconst Error404:React.FC = () => {\n  const history = useHistory();\n\n  return (\n    <FadeAnim className={styles.container}>\n      <h2\n        className={classNames(\n          \"text\",\n          \"text_type_digits-large\",\n          styles.text,\n          styles.number\n        )}\n      >\n        404\n      </h2>\n      <p className={classNames(\"text\", \"text_type_main-large\", styles.text)}>\n          \n      </p>\n      <Button\n        type=\"primary\"\n        size=\"medium\"\n        onClick={() => history.replace({ pathname: Routes.Main })}\n      >\n          \n      </Button>\n    </FadeAnim>\n  );\n};\n\nexport default Error404;\n","import React, { useEffect, useMemo, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { unwrapResult } from \"@reduxjs/toolkit\";\nimport * as yup from \"yup\";\n\nimport { FormContainer } from \"../../components\";\nimport { INPUTS, VALIDATION_SCHEMA } from \"../../constants\";\nimport { Routes } from \"../../enums\";\nimport {\n  handleLoginFormSubmit,\n  resetToDefault,\n  setUserData,\n} from \"../../services/slices\";\nimport { useAppDispatch } from \"../../hooks\";\nimport { IFetchUserData } from \"../../interfaces\";\n\nconst schema = yup.object().shape({\n  email: VALIDATION_SCHEMA.EMAIL,\n  password: VALIDATION_SCHEMA.PASSWORD,\n});\n\nconst Login: React.FC = () => {\n  const [isPasswordHide, setPasswordHide] = useState(true);\n\n  const dispatch = useAppDispatch();\n\n  const history = useHistory();\n\n  useEffect(() => {\n    dispatch(resetToDefault());\n    //eslint-disable-next-line\n  }, []);\n\n  const handlePasswordHide = () => setPasswordHide((prev) => !prev);\n\n  const onSubmit = (data: IFetchUserData) => {\n    dispatch(handleLoginFormSubmit(data))\n      .then(unwrapResult)\n      .then((data) => {\n        dispatch(setUserData(data));\n\n        history.replace({ pathname: Routes.Main });\n      })\n      .catch(() => {});\n  };\n\n  const inputs = useMemo(\n    () => [\n      INPUTS.createEmailInputProps(\"E-mail\"),\n      INPUTS.createPasswordInputProps(\n        \"\",\n        isPasswordHide,\n        handlePasswordHide\n      ),\n    ],\n    [isPasswordHide]\n  );\n\n  const subtitle = useMemo(\n    () => [\n      {\n        text: \"   ?\",\n        linkText: \"\",\n        type: \"text\",\n        onLinkClick: () => {\n          history.push(Routes.Register);\n        },\n      },\n      {\n        text: \" ?\",\n        type: \"text\",\n        linkText: \" \",\n        onLinkClick: () => {\n          history.push(Routes.ForgotPassword);\n        },\n      },\n    ],\n    //eslint-disable-next-line\n    []\n  );\n\n  return (\n    <FormContainer\n      buttonValue=\"\"\n      onSubmit={onSubmit}\n      inputs={inputs}\n      subtitle={subtitle}\n      title=\"\"\n      schema={schema}\n    />\n  );\n};\n\nexport default Login;\n","import React, { useEffect, useMemo } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport * as yup from \"yup\";\nimport { unwrapResult } from \"@reduxjs/toolkit\";\n\n\nimport { INPUTS, VALIDATION_SCHEMA } from \"../../constants\";\nimport {Routes} from \"../../enums\";\nimport { FormContainer } from \"../../components\";\nimport {\n  getSuccessForPasswordReset,\n  handleForgotPasswordFormSubmit,\n  resetToDefault,\n} from \"../../services/slices\";\nimport {useAppDispatch} from \"../../hooks\";\nimport {IFetchUserData, IInputProps} from \"../../interfaces\";\n\nconst schema = yup.object().shape({\n  email: VALIDATION_SCHEMA.EMAIL,\n});\n\nconst ForgotPassword = () => {\n  const dispatch = useAppDispatch();\n\n  const history = useHistory();\n\n  useEffect(() => {\n    dispatch(resetToDefault());\n    //eslint-disable-next-line\n  }, []);\n\n  const onSubmit = (data:Pick<IFetchUserData, 'email'>) =>\n    dispatch(handleForgotPasswordFormSubmit(data))\n      .then(unwrapResult)\n      .then(() => {\n        dispatch(getSuccessForPasswordReset());\n\n        history.push(Routes.ResetPassword);\n      })\n      .catch((rejectedValueOrSerializedError) => {\n        console.error(rejectedValueOrSerializedError);\n      });\n\n  const inputs = useMemo<IInputProps[]>(\n    () => [INPUTS.createEmailInputProps(\" e-mail\")],\n    []\n  );\n\n  const subtitle = useMemo(\n    () => [\n      {\n        text: \" ?\",\n        linkText: \"\",\n        onLinkClick: () => {\n          history.push(Routes.Login);\n        },\n      },\n    ],\n    //eslint-disable-next-line\n    []\n  );\n\n  return (\n    <FormContainer\n      buttonValue=\" \"\n      onSubmit={onSubmit}\n      inputs={inputs}\n      subtitle={subtitle}\n      title=\"\"\n      schema={schema}\n    />\n  );\n};\n\nexport default ForgotPassword;\n","import React, { useEffect, useMemo, useState } from \"react\";\nimport { useHistory, useRouteMatch } from \"react-router-dom\";\nimport { unwrapResult } from \"@reduxjs/toolkit\";\n\nimport * as yup from \"yup\";\n\nimport { INPUTS, VALIDATION_SCHEMA } from \"../../constants\";\nimport { FormContainer } from \"../../components\";\nimport {\n  handleResetPasswordFormSubmit,\n  resetToDefault,\n} from \"../../services/slices\";\nimport { Routes } from \"../../enums\";\nimport { useAppDispatch, useAppSelector } from \"../../hooks\";\nimport { IFetchUserData } from \"../../interfaces\";\n\nconst schema = yup.object().shape({\n  password: VALIDATION_SCHEMA.PASSWORD,\n  token: VALIDATION_SCHEMA.STRING,\n});\n\nconst ResetPassword: React.FC = () => {\n  const [isPasswordHide, setPasswordHide] = useState(true);\n\n  const { isPasswordForgotten } = useAppSelector((state) => state.auth);\n\n  const dispatch = useAppDispatch();\n\n  const history = useHistory();\n\n  const { params } = useRouteMatch<{ token: string }>();\n\n  if (!params.hasOwnProperty(\"token\") && !isPasswordForgotten) {\n    history.replace({ pathname: Routes.Main });\n  }\n\n  useEffect(() => {\n    dispatch(resetToDefault());\n    //eslint-disable-next-line\n  }, []);\n\n  const handlePasswordHide = () => setPasswordHide((prev) => !prev);\n\n  const onSubmit = (data: Pick<IFetchUserData, \"email\">) => {\n    dispatch(handleResetPasswordFormSubmit(data))\n      .then(unwrapResult)\n      .then(() => {\n        history.replace({ pathname: Routes.Profile });\n      })\n      .catch(() => {});\n  };\n\n  const inputs = useMemo(\n    () => [\n      INPUTS.createPasswordInputProps(\n        \"  \",\n        isPasswordHide,\n        handlePasswordHide\n      ),\n      INPUTS.createTokenProps(params?.token),\n    ],\n    [isPasswordHide, params]\n  );\n\n  const subtitle = useMemo(\n    () => [\n      {\n        text: \" ?\",\n        linkText: \"\",\n        onLinkClick: () => {\n          history.push(Routes.Login);\n        },\n      },\n    ],\n    //eslint-disable-next-line\n    []\n  );\n\n  return (\n    <FormContainer\n      buttonValue=\" \"\n      onSubmit={onSubmit}\n      inputs={inputs}\n      subtitle={subtitle}\n      title=\"\"\n      schema={schema}\n    />\n  );\n};\n\nexport default ResetPassword;\n","import React, { useEffect } from \"react\";\nimport { ScrollableContainer } from \"../../uikit\";\n\nimport styles from \"./UserOrders.module.css\";\n\nimport { getDataFromApi, wsAuthConnectionStart } from \"../../services/slices\";\nimport { parseDate, parseFullPrice, parseIngredients } from \"../../utils\";\nimport { CardOrder } from \"../CardOrder\";\nimport { LoadStatuses } from \"../../enums\";\nimport { Loader } from \"../Loader\";\nimport {useAppDispatch, useAppSelector} from \"../../hooks\";\n\nconst UserOrders = () => {\n  const dispatch = useAppDispatch();\n\n  const { currentUserOrders } = useAppSelector((state) => state.orders);\n  const { data, dataObjectVariant, dataLoading } = useAppSelector(\n    (state) => state.data\n  );\n\n  useEffect(() => {\n    if (data.length === 0) {\n      dispatch(getDataFromApi());\n    }\n\n    dispatch(wsAuthConnectionStart());\n    //eslint-disable-next-line\n  }, []);\n\n  if (dataLoading === LoadStatuses.Pending) return <Loader />;\n\n  return (\n    <ScrollableContainer className={styles.container}>\n      {currentUserOrders.length > 0 ? (\n        currentUserOrders.map(\n          ({ _id, ingredients, status, name, updatedAt, number }) => {\n            if (!dataObjectVariant) return null;\n\n            const ingredientsParsed = parseIngredients(\n              ingredients,\n              dataObjectVariant\n            );\n            const price = parseFullPrice(ingredients, dataObjectVariant);\n            const date = parseDate(updatedAt);\n\n            return (\n              <CardOrder\n                key={_id}\n                _id={_id}\n                ingredients={ingredientsParsed}\n                orderStatus={status}\n                burgerName={name}\n                price={price}\n                date={date}\n                orderNumber={number}\n                fromProfile\n              />\n            );\n          }\n        )\n      ) : (\n        <p className=\"text text_type_main-medium\">\n                \n        </p>\n      )}\n    </ScrollableContainer>\n  );\n};\n\nexport default UserOrders;\n","import React from \"react\";\nimport { Route, Switch, useLocation } from \"react-router-dom\";\nimport classNames from \"classnames\";\n\nimport styles from \"./Profile.module.css\";\n\nimport { NavButton, ProfileForm } from \"../../components\";\nimport { FadeAnim } from \"../../uikit\";\nimport { UserOrders } from \"../../components/UserOrders\";\nimport { Routes } from \"../../enums\";\n\nconst profileLinks = [\n  { path: Routes.Profile, text: \"\" },\n  { path: Routes.Orders, text: \" \" },\n  { path: Routes.Logout, text: \"\" },\n];\n\nconst Profile:React.FC = () => {\n  const { pathname } = useLocation();\n\n  return (\n    <section className={classNames(styles.profileContainer, \"p-5\")}>\n      <FadeAnim className={styles.linksContainer}>\n        {profileLinks.map(({ path, text }) => (\n          <NavButton to={path} text={text} textSize=\"medium\" key={path} />\n        ))}\n\n        <p className=\"text text_type_main-default text_color_inactive mt-20 ml-5\">\n          {pathname.includes(\"orders\")\n            ? \"        \"\n            : \"        \"}\n        </p>\n      </FadeAnim>\n\n      <Switch>\n        <Route path={Routes.Profile} exact>\n          <ProfileForm />\n        </Route>\n\n        <Route path={Routes.Orders} exact>\n          <UserOrders />\n        </Route>\n      </Switch>\n    </section>\n  );\n};\n\nexport default Profile;\n","import React, { useEffect } from \"react\";\nimport { unwrapResult } from \"@reduxjs/toolkit\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { Loader } from \"../../components\";\nimport { handleLogout } from \"../../services/slices\";\nimport { Routes } from \"../../enums\";\nimport {useAppDispatch} from \"../../hooks\";\n\nconst Logout = () => {\n  const history = useHistory();\n\n  const dispatch = useAppDispatch();\n\n  useEffect(() => {\n    dispatch(handleLogout())\n      .then(unwrapResult)\n      .then(() => history.replace({ pathname: Routes.Login }))\n      .catch(() => history.replace({ pathname: Routes.Profile }));\n\n    //eslint-disable-next-line\n  }, []);\n\n  return <Loader />;\n};\n\nexport default Logout;\n","import React, { useEffect } from \"react\";\nimport { useHistory, useRouteMatch } from \"react-router-dom\";\nimport { unwrapResult } from \"@reduxjs/toolkit\";\n\nimport style from \"./Ingredient.module.css\";\n\nimport { getDataFromApi, setCurrentIngredient } from \"../../services/slices\";\nimport { IngredientDetails, Loader } from \"../../components\";\nimport { LoadStatuses, Routes } from \"../../enums\";\nimport { FadeAnim } from \"../../uikit\";\nimport { useAppDispatch, useAppSelector } from \"../../hooks\";\n\nconst Ingredient = () => {\n  const {\n    params: { ingredientId },\n  } = useRouteMatch<{ ingredientId: string }>();\n\n  const history = useHistory();\n\n  if (!ingredientId) {\n    history.replace({ pathname: Routes.Main });\n  }\n\n  const dispatch = useAppDispatch();\n\n  const {\n    data: { dataLoading },\n    items: { currentIngredient },\n  } = useAppSelector(({ data, items }) => ({ data, items }));\n\n  useEffect(() => {\n    dispatch(getDataFromApi())\n      .then(unwrapResult)\n      .then((data) => {\n        if (Array.isArray(data)) {\n          const selectedItem = data.find((item) => {\n            return item._id === ingredientId;\n          });\n\n          if (selectedItem) {\n            return dispatch(setCurrentIngredient(selectedItem));\n          }\n\n          history.replace({ pathname: Routes.Main });\n        }\n      })\n      .catch(() => {});\n    //eslint-disable-next-line\n  }, []);\n\n  if (\n    dataLoading === LoadStatuses.Pending ||\n    !currentIngredient\n  ) {\n    return <Loader />;\n  }\n\n  return (\n    <FadeAnim className={style.container}>\n      <IngredientDetails currentIngredient={currentIngredient} />\n    </FadeAnim>\n  );\n};\n\nexport default Ingredient;\n","import React, { useEffect } from \"react\";\nimport { getDataFromApi, wsConnectionStart } from \"../../services/slices\";\nimport { FeedIngredients, FeedNumbersTablet, Loader } from \"../../components/\";\nimport { LoadStatuses } from \"../../enums\";\nimport { useAppDispatch, useAppSelector } from \"../../hooks\";\n\nconst Feed: React.FC = () => {\n  const dispatch = useAppDispatch();\n\n  const { data, dataLoading } = useAppSelector((state) => state.data);\n\n  useEffect(() => {\n    if (data.length === 0) {\n      dispatch(getDataFromApi());\n    }\n\n    dispatch(wsConnectionStart());\n    //eslint-disable-next-line\n  }, []);\n\n  if (dataLoading === LoadStatuses.Pending) return <Loader />;\n\n  return (\n    <>\n      <FeedIngredients />\n      <FeedNumbersTablet />\n    </>\n  );\n};\n\nexport default Feed;\n","import React, { useEffect } from \"react\";\nimport { useHistory, useLocation, useRouteMatch } from \"react-router-dom\";\n\nimport style from \"./Order.module.css\";\n\nimport {\n  getDataFromApi,\n  handleOrderSelection,\n  wsAuthConnectionStart,\n  wsConnectionStart,\n} from \"../../services/slices\";\nimport { FeedInfo, Loader } from \"../../components\";\nimport { LoadStatuses, Routes } from \"../../enums\";\nimport { FadeAnim } from \"../../uikit\";\nimport { parseDate, parseFullPrice, parseIngredients } from \"../../utils\";\nimport { useAppDispatch, useAppSelector } from \"../../hooks\";\n\nconst Order: React.FC = () => {\n  const {\n    params: { feedId },\n  } = useRouteMatch<{ feedId: string }>();\n\n  const location = useLocation();\n\n  const history = useHistory();\n\n  const checkPathnameAndRedirect = () => {\n    history.replace({\n      pathname: location.pathname.includes(\"orders\")\n        ? Routes.Orders\n        : Routes.Feed,\n    });\n  };\n\n  if (!feedId) {\n    checkPathnameAndRedirect();\n  }\n\n  const dispatch = useAppDispatch();\n\n  const {\n    data: { dataLoading, dataObjectVariant, data },\n    orders: { selectedOrder, orders, currentUserOrders, wsError, wsClose },\n  } = useAppSelector(({ data, orders }) => ({ data, orders }));\n\n  useEffect(() => {\n    if (data.length === 0) {\n      dispatch(getDataFromApi());\n    }\n\n    if (location.pathname.includes(\"orders\")) {\n      dispatch(wsAuthConnectionStart());\n    } else {\n      dispatch(wsConnectionStart());\n    }\n    //eslint-disable-next-line\n  }, []);\n\n  useEffect((): void => {\n    const currentOrders = location.pathname.includes(\"orders\")\n      ? currentUserOrders\n      : orders;\n\n    if (currentOrders.length > 0) {\n      if (Array.isArray(currentOrders)) {\n        const selectedItem = currentOrders.find((item) => {\n          return item._id === feedId;\n        });\n\n        if (selectedItem && dataObjectVariant) {\n          const { ingredients, updatedAt, _id, status, name, number } =\n            selectedItem;\n\n          const ingredientsParsed = parseIngredients(\n            ingredients,\n            dataObjectVariant\n          );\n          const price = parseFullPrice(ingredients, dataObjectVariant);\n          const date = parseDate(updatedAt);\n\n          const order = {\n            _id,\n            ingredients: ingredientsParsed,\n            orderStatus: status,\n            burgerName: name,\n            fullPrice: price,\n            date,\n            orderNumber: number,\n          };\n\n          dispatch(handleOrderSelection(order));\n          return;\n        }\n\n        checkPathnameAndRedirect();\n      }\n    }\n    //eslint-disable-next-line\n  }, [orders, currentUserOrders]);\n\n  useEffect(() => {\n    if (wsError || wsClose) {\n      checkPathnameAndRedirect();\n    }\n    //eslint-disable-next-line\n  }, [wsError, wsClose]);\n\n  if (dataLoading === LoadStatuses.Pending || !selectedOrder) {\n    return <Loader />;\n  }\n\n  return (\n    <FadeAnim className={style.container}>\n      <FeedInfo {...selectedOrder} />\n    </FadeAnim>\n  );\n};\n\nexport default Order;\n","import React, { useEffect } from \"react\";\nimport { Route, Switch, useHistory, useLocation } from \"react-router-dom\";\n\nimport styles from \"./App.module.css\";\n\nimport { Routes, RouteStatuses } from \"../../enums\";\nimport {\n  Error404,\n  Feed,\n  ForgotPassword,\n  Ingredient,\n  Login,\n  Logout,\n  Main,\n  Order,\n  Profile,\n  Register,\n  ResetPassword,\n} from \"../../pages\";\nimport {\n  AppHeader,\n  FeedInfoModal,\n  IngredientDetailsModal,\n  OrderDetailsModal,\n} from \"../\";\nimport { checkRouteStatusAndReturnSelectedRoute } from \"../../utils\";\nimport classnames from \"classnames\";\nimport { ILocation } from \"../../interfaces\";\n\nconst routesAndComponents = [\n  { path: Routes.Main, Component: Main, exact: true },\n  { path: Routes.Feed, Component: Feed, exact: true },\n  {\n    path: Routes.Login,\n    Component: Login,\n    status: RouteStatuses.Hidden,\n  },\n  {\n    path: Routes.Register,\n    Component: Register,\n    status: RouteStatuses.Hidden,\n  },\n  {\n    path: Routes.ForgotPassword,\n    Component: ForgotPassword,\n    status: RouteStatuses.Hidden,\n  },\n  {\n    path: Routes.ResetPassword,\n    Component: ResetPassword,\n    exact: true,\n    status: RouteStatuses.Hidden,\n  },\n  {\n    path: Routes.ResetPasswordWithToken,\n    Component: ResetPassword,\n    status: RouteStatuses.Hidden,\n  },\n  {\n    path: Routes.Profile,\n    Component: Profile,\n    status: RouteStatuses.Protected,\n    exact: true,\n  },\n  {\n    path: Routes.Orders,\n    Component: Profile,\n    status: RouteStatuses.Protected,\n    exact: true,\n  },\n  { path: Routes.Logout, Component: Logout, status: RouteStatuses.Protected },\n  { path: Routes.IngredientsWithId, Component: Ingredient },\n  { path: Routes.FeedWithId, Component: Order },\n  {\n    path: Routes.OrdersWithId,\n    Component: Order,\n    status: RouteStatuses.Protected,\n  },\n];\n\nconst routesAndModals = [\n  { path: Routes.FeedWithId, Component: FeedInfoModal },\n  {\n    path: Routes.OrdersWithId,\n    Component: FeedInfoModal,\n    status: RouteStatuses.Protected,\n  },\n  { path: Routes.IngredientsWithId, Component: IngredientDetailsModal },\n];\n\nconst App: React.FC = () => {\n  const history = useHistory();\n\n  useEffect(() => {\n    history.replace({});\n    //eslint-disable-next-line\n  }, []);\n\n  const location = useLocation<ILocation>();\n\n  const background = location?.state?.background;\n\n  return (\n    <div className={styles.app}>\n      <AppHeader />\n      <main className={classnames(styles.main, \"pr-4\", \"pl-4\")}>\n        <Switch location={background || location}>\n          {routesAndComponents.map(({ path, Component, status, ...props }) => {\n            const SelectedRoute =\n              checkRouteStatusAndReturnSelectedRoute(status);\n\n            return (\n              <SelectedRoute path={path} key={path} {...props}>\n                <Component />\n              </SelectedRoute>\n            );\n          })}\n\n          <Route path=\"*\" component={Error404} />\n        </Switch>\n      </main>\n\n      <OrderDetailsModal />\n      {background &&\n        routesAndModals.map(({ path, Component, status, ...props }) => {\n          const SelectedRoute = checkRouteStatusAndReturnSelectedRoute(status);\n\n          return (\n            <SelectedRoute path={path} key={path} {...props}>\n              <Component />\n            </SelectedRoute>\n          );\n        })}\n    </div>\n  );\n};\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { configureStore } from \"@reduxjs/toolkit\";\nimport {\n  authSlice,\n  dataSlice,\n  formSlice,\n  itemsSlice,\n  modalWindowsSlice,\n  ordersSlice,\n  socketMiddleware,\n  wsActions,\n  wsAuthActions,\n} from \"../slices\";\nimport { ApiUrl } from \"../../enums\";\n\nconst wsMiddlewares = [\n  socketMiddleware(ApiUrl.WsAllOrders, wsActions),\n  socketMiddleware(ApiUrl.WsUserOrders, wsAuthActions, true),\n];\n\nexport const store = configureStore({\n  reducer: {\n    data: dataSlice,\n    items: itemsSlice,\n    modalWindows: modalWindowsSlice,\n    form: formSlice,\n    auth: authSlice,\n    orders: ordersSlice,\n  },\n  middleware: (getDefaultMiddleware) =>\n    getDefaultMiddleware().concat(wsMiddlewares),\n  devTools: process.env.NODE_ENV !== \"production\",\n});\n\nexport type RootState = ReturnType<typeof store.getState>;\nexport type AppDispatch = typeof store.dispatch;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App/App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport { Provider } from \"react-redux\";\nimport { store } from \"./services/store\";\nimport { DndProvider } from \"react-dnd\";\nimport { HTML5Backend } from \"react-dnd-html5-backend\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <BrowserRouter>\n        <DndProvider backend={HTML5Backend}>\n          <App />\n        </DndProvider>\n      </BrowserRouter>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"FormContainer_container___Ycjx\",\"form\":\"FormContainer_form__JrR8m\",\"title\":\"FormContainer_title__2eyCS\",\"link\":\"FormContainer_link__2-2XI\",\"error\":\"FormContainer_error__2HrD3\",\"success\":\"FormContainer_success__3YJFG\",\"subtitleContainer\":\"FormContainer_subtitleContainer__3wl-I\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ProfileForm_container__tPjrg\",\"error\":\"ProfileForm_error__3Excr\",\"success\":\"ProfileForm_success__3A6MT\",\"buttonsContainer\":\"ProfileForm_buttonsContainer__z2hCk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"price\":\"IngredientCard_price__qz3Ox\",\"card\":\"IngredientCard_card__Dy-wV IngredientCard_price__qz3Ox\",\"image\":\"IngredientCard_image__27Zdf\",\"name\":\"IngredientCard_name__2sMPq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"Modal_modal__P3_V5\",\"modalContainer\":\"Modal_modalContainer__2ER2N\",\"header\":\"Modal_header__StajR\",\"closeIcon\":\"Modal_closeIcon__3xOgs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"section\":\"FeedNumbersTablet_section__XPE8A\",\"flexContainer\":\"FeedNumbersTablet_flexContainer__FZ3FP\",\"numbers\":\"FeedNumbersTablet_numbers__2fSCL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"OrderColumns_container__v8tY1\",\"orderColumns\":\"OrderColumns_orderColumns__1iKgx\",\"orderItem\":\"OrderColumns_orderItem__2nleg\",\"variantPrimary\":\"OrderColumns_variantPrimary__SFLmS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Error404_container__SpiA8\",\"text\":\"Error404_text__3Hdtb\",\"number\":\"Error404_number__3JCsC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"AppHeader_header__X9aJA\",\"nav\":\"AppHeader_nav___e8WD\",\"leftTabsContainer\":\"AppHeader_leftTabsContainer__3zbGC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"BurgerElement_container__wA-2w\",\"dragItem\":\"BurgerElement_dragItem__3MRXg\",\"containerIsDragging\":\"BurgerElement_containerIsDragging__1mWtN\"};"],"sourceRoot":""}